<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/nav.css" />
    <link rel="stylesheet" href="./assets/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <style>
      .modal {
          display: none;
          position: fixed;
          z-index: 1;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: auto;
          background-color: rgba(0,0,0,0.4);
      }

      .modal-content {
          background-color: #fefefe;
          margin: 15% auto;
        
          border: 1px solid #888;
          width: 80%;
          max-width: 500px;
          border-radius: 10px;
      }

      .close {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;

      }

      .close:hover,
      .close:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
      }

      .modal-header {
      
          margin-bottom: 15px;
          background-color: #26a6dc;
      }
  </style>

    <div id="navbar"></div>
    <div class="serachbar1">
      <div class="forsearchcenter">
        <input
          type="text"
          name="Search"
          id="LISTestMasterModel_txtInvestigationSearch"
          value="Search Investigation here"
          onblur="if(this.value == '') {this.value = 'Search Investigation here'};"
          onfocus="if(this.value =='Search Investigation here') {this.value =''};"
        />
        <input type="submit" name="" />
      </div>
    </div>
    <div id="LISTestMasterModel" style="width: 100%">
      <div class="middlesecregistion">
        <div class="addPlusIcon" style="display: none">
          Please click to show list box <i class="icon-plus"></i>
        </div>
        <div class="categorylist">
          <div class="categoryouter">
            <div class="parimarycategory">
              <table width="450" border="0" cellspacing="0" cellpadding="0">
                <thead>
                  <th>Sr.No.</th>
                  <th class="primry">Primary Category</th>
                  <th class="disble">Active</th>
                  <th>edit</th>
                </thead>

                <tbody data-bind="foreach: primaryCategories">
                  <tr>
                    <td data-bind="text: $index() + 1">1</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: PrimaryCategoryName, click: $root.selectPrimaryCategory"
                    >
                      BIOCHEMISTRY
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        id="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span class="edit" data-bind="click: editPrimaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr>
                    <td data-bind="text: $index() + 1">2</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: PrimaryCategoryName, click: $root.selectPrimaryCategory"
                    >
                      CANCER MARKER
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        id="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span class="edit" data-bind="click: editPrimaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr>
                    <td data-bind="text: $index() + 1">3</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: PrimaryCategoryName, click: $root.selectPrimaryCategory"
                    >
                      CARDIOLOGY
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        id="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span class="edit" data-bind="click: editPrimaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr>
                    <td data-bind="text: $index() + 1">4</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: PrimaryCategoryName, click: $root.selectPrimaryCategory"
                    >
                      CT SCAN
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        id="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span class="edit" data-bind="click: editPrimaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  

                  
                </tbody>
              </table>
              <div id="subOverlay" class="suboverly">
                <div class="inptarea">
                  <input
                    type="text"
                    id="txtSearchPrimaryCategory"
                    class="ui-autocomplete-input"
                    autocomplete="off"
                  /><span
                    role="status"
                    aria-live="polite"
                    class="ui-helper-hidden-accessible"
                  ></span>
                  <input type="submit" name="" />
                </div>
              </div>
             
            </div>
            <div
              class="addprimarycategorybtn"
              data-bind="click: addNewPrimaryCategory"
              id="addPrimaryCategoryBtn"
            >
              <span></span>Add Primary Category
            </div>
          </div>
          <div class="categoryouter">
            <div class="secondrycategory">
              <div class="clsebtn" onclick="">X</div>
              <table width="450" border="0" cellspacing="0" cellpadding="0">
                <thead>
                    <th>Sr.No.</th>
                    <th class="primry">Secondary Category</th>
                    <th class="disble">Active</th>
                    <th>edit</th>
                </thead>
                <tbody data-bind="foreach: secondaryCategories">
                  <tr>
                    <td data-bind="text: $index() + 1">1</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: SecondaryCategoryName, click: $root.secondaryCategories.selectSecondaryCategory"
                    >
                      BIOCHEMISTRY ROUTINE
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editSecondaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr>
                    <td data-bind="text: $index() + 1">2</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: SecondaryCategoryName, click: $root.secondaryCategories.selectSecondaryCategory"
                    >
                      BIOCHEMISTRY SPECIAL
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editSecondaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr>
                    <td data-bind="text: $index() + 1">3</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: SecondaryCategoryName, click: $root.secondaryCategories.selectSecondaryCategory"
                    >
                      DRUG ASSAY
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editSecondaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr>
                    <td data-bind="text: $index() + 1">4</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: SecondaryCategoryName, click: $root.secondaryCategories.selectSecondaryCategory"
                    >
                      GLUCOSE TOLERANCE TEST
                    </td>
                    <td class="disbl">
                      <input
                        type="checkbox"
                        name="disable"
                        disabled="disabled"
                        data-bind="checked: IsActive"
                      /><label for="disable"><span></span></label>
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editSecondaryCategory"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
              
            </div>
            <div
              class="addsecndrycategorybtn"
              data-bind="click: addNewSecondaryCategory"
              id="addSecondaryCategoryBtn"
            >
              <span></span>Add Secondary Category
            </div>
          </div>
          <div class="categoryouter no">
            <div class="lastadvisecategory">
              <div class="clsebtn">X</div>
              <table width="450" border="0" cellspacing="0" cellpadding="0">
                <thead>
                  <th>Sr.No.</th>
                    <th class="primry">Description</th>

                    <th>edit</th>
                </thead>
                <tbody data-bind="foreach: investigations">
                  <tr data-bind="click: editInvestigation">
                    <td data-bind="text: $index() + 1">1</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: Description"
                    >
                      BLOOD SUGAR FASTING
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editInvestigation"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr data-bind="click: editInvestigation">
                    <td data-bind="text: $index() + 1">2</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: Description"
                    >
                      TOTAL BILIRUBIN
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editInvestigation"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr data-bind="click: editInvestigation">
                    <td data-bind="text: $index() + 1">3</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: Description"
                    >
                      BLOOD SUGAR RANDOM
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editInvestigation"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  <tr data-bind="click: editInvestigation">
                    <td data-bind="text: $index() + 1">4</td>
                    <td
                      class="primname"
                      style="text-align: left; padding: 0 15px"
                      data-bind="text: Description"
                    >
                      DIRECT BILIRUBIN (CONJUGATED)
                    </td>
                    <td>
                      <span
                        class="edit"
                        data-bind="click: editInvestigation"
                        ><a href="#">edit</a></span
                      >
                    </td>
                  </tr>

                  

                  

                  
                </tbody>
                <tbody>
                  
                </tbody>
              </table>
              
            </div>
            <div class="addinvestgnbtn" data-bind="click: addNewInvestigation">
              <span></span>ADD INVESTIGATION
            </div>
          </div>
          <div id="primaryCategoryModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closePrimaryModal" style="top: -8px;">&times;</span>
                <div class="modal-header">ADD PRIMARY CATEGORY</div>
               
                <form id="primaryCategoryForm" action="https://rssmarthut.com/mypath/primarycategory.php" method="POST" style="padding-left: 12px;padding-bottom: 12px;">
                  <label for="primaryCategoryName">Name:</label>
                  <input type="text" id="primaryCategoryName" name="primaryCategoryName" required placeholder="ENTER THE PRIMARY CATEGORY" style="padding-left:4PX; width: 18vw; border: 0.1px solid #f296fd; border-radius: 3px;background-color: #ececec;">
                  <button id="primarybtn" type="submit" style="border: 0.1px solid pink;border-radius: 5px;height: 1.7vw;width: 7vw;" onclick="alert('PRIMARY CATEGORY ADDED SUCCESSFULLY')">Add</button>
              </form>
              
            </div>
          </div>
          <div id="secondaryCategoryModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeSecondaryModal">&times;</span>
                <div class="modal-header">ADD SECONDARY CATEGORY</div>
                <form id="secondaryCategoryForm" action="https://rssmarthut.com/mypath/secondarycategory.php" method="POST" style="padding-left: 12px; padding-bottom: 12px;">
                  <div style="margin-bottom:1vw;">
                    <label for="primaryCategorySelect">Select Primary Category:</label>
                  <select id="primaryCategorySelect" name="primaryCategorySelect" required style="padding:0 4px; width: 18vw; border: 0.1px solid #f296fd; border-radius: 3px; background-color: #ececec;">
                      
                  </select>
                  </div>

                  <div>
                    <label for="secondaryCategoryName">Name:</label>
                  <input type="text" id="secondaryCategoryName" name="secondaryCategoryName" required placeholder="ENTER THE SECONDARY CATEGORY" style="padding-left:4PX; width: 18vw; border: 0.1px solid #f296fd; border-radius: 3px; background-color: #ececec;">
                  <button id="secondarybtn" type="submit" style="border: 0.1px solid rgb(176, 170, 171); border-radius: 5px; height: 1.7vw; width: 8.5vw;" onclick="alert('SECONDARY CATEGORY ADDED SUCCESSFULLY')">Add</button>
                  </div>
                </form>
            </div>
        </div>
        </div>

        <!-- Tabs Start Here -->
      

      

       

     
    </div>
    <script>
      // Get modal elements
      const primaryCategoryModal = document.getElementById("primaryCategoryModal");
      const secondaryCategoryModal = document.getElementById("secondaryCategoryModal");
  
      // Get button elements
      const addPrimaryCategoryBtn = document.getElementById("addPrimaryCategoryBtn");
      const addSecondaryCategoryBtn = document.getElementById("addSecondaryCategoryBtn");
  
      // Get close elements
      const closePrimaryModal = document.getElementById("closePrimaryModal");
      const closeSecondaryModal = document.getElementById("closeSecondaryModal");

      const primarybtn=document.getElementById("primarybtn");
      const secondarybtn=document.getElementById("secondarybtn");
  
      // Open primary category modal
      addPrimaryCategoryBtn.addEventListener("click", () => {
          primaryCategoryModal.style.display = "block";
      });
  
      // Open secondary category modal
      addSecondaryCategoryBtn.addEventListener("click", () => {
          secondaryCategoryModal.style.display = "block";
      });
  
      // Close primary category modal
      closePrimaryModal.addEventListener("click", () => {
          primaryCategoryModal.style.display = "none";
      });
      primarybtn.addEventListener("click", () => {
          primaryCategoryModal.style.display = "none";
      });
      secondarybtn.addEventListener("click", () => {
          secondaryCategoryModal.style.display = "none";
      });

  
      // Close secondary category modal
      closeSecondaryModal.addEventListener("click", () => {
          secondaryCategoryModal.style.display = "none";
      });
      secondarybtn.addEventListener("click", () => {
          secondaryCategoryModal.style.display = "none";
      });
  
      // Close modals when clicking outside
      window.addEventListener("click", (event) => {
          if (event.target == primaryCategoryModal) {
              primaryCategoryModal.style.display = "none";
          }
          if (event.target == secondaryCategoryModal) {
              secondaryCategoryModal.style.display = "none";
          }
      });
  
      // Handle form submissions
      document.getElementById("primaryCategoryForm").addEventListener("submit", (event) => {
          event.preventDefault();
          const form = event.target;
          const formData = new FormData(form);
  
          fetch(form.action, {
              method: form.method,
              body: formData
          }).then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok');
              }
              return response.json();
          }).then(data => {
              console.log(data);
              primaryCategoryModal.style.display = "none"; // Hide the modal on successful form submission
              
          }).catch(error => {
              console.error('There has been a problem with your fetch operation:', error);
              
          });
      });
  
      document.getElementById("secondaryCategoryForm").addEventListener("submit", (event) => {
          event.preventDefault();
          const form = event.target;
          const formData = new FormData(form);
  
          fetch(form.action, {
              method: form.method,
              body: formData
          }).then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok');
              }
              return response.json();
          }).then(data => {
              console.log(data);
              secondaryCategoryModal.style.display = "none"; // Hide the modal on successful form submission
          }).catch(error => {
              console.error('There has been a problem with your fetch operation:', error);
          });
      });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    var primaryCategorySelect = document.getElementById('primaryCategorySelect');

    function fetchPrimaryCategories() {
        
        var url = 'https://rssmarthut.com/mypath/primarycategory.php?fetch=true';

        
        fetch(url)
            .then(response => response.json())
            .then(data => {
                // Call populatePrimaryCategorySelect here
                populatePrimaryCategorySelect(data);
            })
            .catch(error => {
                console.error('Error fetching primary categories:', error);
            });
    }

    // Function to populate the primary category select element
    function populatePrimaryCategorySelect(categories) {
    
        primaryCategorySelect.innerHTML = ''; // Clear any existing options
        categories.forEach(category => {
            var option = document.createElement('option');
            option.value = category; // Replace with the actual ID field
            option.textContent = category; // Replace with the actual name field
            primaryCategorySelect.appendChild(option);
        });
    }

    // Call fetchPrimaryCategories when the DOM is fully loaded
    fetchPrimaryCategories();
});

  </script>
  
  
    <script src="nav.js"></script>
  </body>
</html>


