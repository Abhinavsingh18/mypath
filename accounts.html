<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/nav.css" />
    <link rel="stylesheet" href="./assets/style.css" />
    <link rel="stylesheet" href="./assets/bootstrap.css" />
    <link rel="stylesheet" href="./assets/kendo.common.min.css" />
    <link rel="stylesheet" href="./assets/kendo.metro.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div id="navbar"></div>
    <div id="warrper" style="margin-top: 15px;">
      <div id=""> 
        <form
          method="post"
          action="./AccountManagement"
          id="form1"
          enctype="multipart/form-data"
          style="width: 97vw;"
        >
          <div class="aspNetHidden">
            <input
              type="hidden"
              name="ToolkitScriptManager1_HiddenField"
              id="ToolkitScriptManager1_HiddenField"
              value=";;AjaxControlToolkit, Version=4.1.60919.0, Culture=neutral, PublicKeyToken=28f01b0e84b6d53e:en-GB:36773350-3ea0-4f10-863f-07e71c796840:475a4ef5:effe2a26:751cdd15:5546a2b:dfad98a5:497ef277:a43b07eb:d2e10b12:37e2e5c9:1d3ed089:3cf12cf1"
            />
            <input
              type="hidden"
              name="__EVENTTARGET"
              id="__EVENTTARGET"
              value=""
            />
            <input
              type="hidden"
              name="__EVENTARGUMENT"
              id="__EVENTARGUMENT"
              value=""
            />
            <input
              type="hidden"
              name="__VIEWSTATE"
              id="__VIEWSTATE"
              value="KbbBeu5O3f4F+l9vaVA/U3RL8TuqcGnNZRFpWsIvCSgXcaIygBAcYxgg6n31o8Em7+qLQ4LMNUJvtkTQvAdT6mzj583yW8Xp7vv0yv9nt5+pQfCBr3qziaKptlWmjflmoY8wb1YksKaxVcCdp4Rm638qxYgNK91YzQNavGjAarlFy28GhL4rJN+ZuDgNzDyX"
            />
          </div>

          <script type="text/javascript">
            //<![CDATA[
            var theForm = document.forms["form1"];
            if (!theForm) {
              theForm = document.form1;
            }
            function __doPostBack(eventTarget, eventArgument) {
              if (!theForm.onsubmit || theForm.onsubmit() != false) {
                theForm.__EVENTTARGET.value = eventTarget;
                theForm.__EVENTARGUMENT.value = eventArgument;
                theForm.submit();
              }
            }
            //]]>
          </script>

          <script
            src="/WebResource.axd?d=pynGkmcFUV13He1Qd6_TZKpli3JXiaDWhJCxhdjm6wSKEn3InNkJrGTAkBhTbdELHyaTIFBA2etdtshZzqUU7Q2&amp;t=637814851746327080"
            type="text/javascript"
          ></script>

          <script
            src="/ScriptResource.axd?d=MMS87qLydyPNhYIr3aQs-QFFp7TUrD9iZ9bsLuPjSJFcgG3G8gX1AG8RHJMXfPgMpa9w2LF_ypB7NJJ9gntWoO9lJkz9PjOSjlN5DeMMToLbmAmQhrWE5R9owTiWF_qiv33FbIQC4qXvQo1sEGfhZE1MqVRknd-XG01ZWbmUh5KxSGbajwBgJnAvrWWv4MLsltFuQ22ApaggA2WsdqdFHzS3O-5zsxGgTP2XlSOOULFHYqNnLM56X5wSu1GvUpETo_F8XM79k2oSvi0quSeTZLfiwVM839nL8nujQICbVnWzzAS6Pfqd65iS6TQ-7JSBn4He00u3U3DEF8bdJUrJbbW2VeCRQz3CXwY9ziPdql12vkZ0rCBRVsImIsKBkmOQooZTEorV2PVOHviSen_LbKe0t2gMKAWMVHHI5hqiKAoSdSVvSON38jk-iXDqeArhP00ZiM1cFj2xvlTY90jdcjvBGGEc0JHd9gCChP6MEHrwvJU9-W0B8YeMztJ8w3DFNMd17Mw7IU44VrgKS8UGB_WR47Vr10mHkTm7XyYzk9obBFqfHeEuMSpduLuG1CPZIV4qobsFAdiao-MuQr27wi7aJvvF-oodS9q2rv33ScVX-WKvEDPmZx243p3Qy69zAcPsfFDVP_h4DklPMVPSRJVEQL3HhWClcOGaBjlt3jt4LNBdkBcpYLxDJ9BhdBhH1P-djS1WvHtodb-sW4FVmodwpQxzWb4ZfJUn078iw3h6BthH3sPTVXn5MXUrd5EMjm6gLDaY3liXPYbkNSOq7LhKJ3OOvjWBdtF4cWOcvksCWVKmis5_Oh5diIFWCmHa9QU3t-9PLtomCRm7QMBaCufi5RPlKYujLnv89h6Bly3m3NcMHG1gllQTAvLWfrQYYW2gnf_g2204xDXJ5dxIj9IeGRV7h4vc-tuikSdZ1hClc5J3ZrzM6n-y_23dm8HyJWtRYE259gLKx_NsUg4huDJfrUqHlfILnaVZ3pUHajv11Dn9iK4KlsX3w5w9f0PWp6ITlwansBhqqGOr2TW167KU1Cdiie9VbuFa0Bu8cCdlzJjHKsfBCBsyVT3l3MWYafeiE0QsCmdNrWV-s3q9XpiqUmH4DV3_Jqzn7foWebulU0epsnF9t0maVp2jwZ9JC1e-iek1excunCM-wd2-NaNRKA_vLl9Ckx12j_Y4RA9Rnb14T2ku6CcuBeFh12vWTlU6nfOBY1w4-OKqrNw7bJwMzIPbIcm3XcxlF9shIkNOiYxc8v3Bi_PVNehTJNCgf_Ur-CZbPymjE9DDpDqRvmQU-TPAZ6RdgdPNFUIbdliPSgO7KJJc23zpw55oDFL2zSzSExy-L2E6PcXRQoaIwCFgv4najLwjOkkS4lKmy9blAMQ1wDM8cDu-u49Z2Das2HKkCvpOJnRkVL1wwv0BxIqj87d4roAlSqMfH7LAK92gL_WAD1SAfhb-tmKEifUE00MB54sgKG1cbStC3B39aD2CCjTF25txvg7ULHIsWzznAshUWzQnA_1fjxKRvjngfrCrogvHQOXh8qwQx_r6r-_12nAyrpGxsNL-Ltbmal73UsA3_-GEd6EqlaJnPhaOSDAUSMkhg2Y-ktWLGMiAM1tNFlMpNtsqmF71AZOIddm1yLZ4KzLCw2SVWg_UDZ0_W-vrdi7dETg3FDgEkzqeXr4p8Cj5NMIv40DEOJUxQLg1"
            type="text/javascript"
          ></script>
          <script
            src="/Master/IncomeExpenses.aspx?_TSM_HiddenField_=ToolkitScriptManager1_HiddenField&amp;_TSM_CombinedScripts_=%3b%3bAjaxControlToolkit%2c+Version%3d4.1.60919.0%2c+Culture%3dneutral%2c+PublicKeyToken%3d28f01b0e84b6d53e%3aen-GB%3a36773350-3ea0-4f10-863f-07e71c796840%3a475a4ef5%3aeffe2a26%3a751cdd15%3a5546a2b%3adfad98a5%3a497ef277%3aa43b07eb%3ad2e10b12%3a37e2e5c9%3a1d3ed089%3a3cf12cf1"
            type="text/javascript"
          ></script>
          <div class="aspNetHidden">
            <input
              type="hidden"
              name="__VIEWSTATEGENERATOR"
              id="__VIEWSTATEGENERATOR"
              value="AEC37E06"
            />
            <input
              type="hidden"
              name="__SCROLLPOSITIONX"
              id="__SCROLLPOSITIONX"
              value="0"
            />
            <input
              type="hidden"
              name="__SCROLLPOSITIONY"
              id="__SCROLLPOSITIONY"
              value="0"
            />
            <input
              type="hidden"
              name="__EVENTVALIDATION"
              id="__EVENTVALIDATION"
              value="CZCd8TQMYvmsXzi6FfPjda2fQXO8+ZnRYQDLR04KEdDTr9SObYcIAfgBRiEBiOPyKmX4+VEw81Lp60TwZDRFB7scawytFG4haFQlDt0Q6/PtNzzUDRGxnKGPX4waCEEabpWzCqvofOzG9mtkRa+d2B5ceRtWlkpkvnFrJHusZfeLQNU+PYmCzMbQZUgqp1po"
            />
          </div>

        

          <script type="text/javascript">
            //<![CDATA[
            Sys.WebForms.PageRequestManager._initialize(
              "ctl00$ToolkitScriptManager1",
              "form1",
              [],
              [],
              [],
              90,
              "ctl00"
            );
            //]]>
          </script>

          <input type="hidden" name="ctl00$HiddenField5" id="HiddenField5" />
          <div
            id="divNewFeature"
            style="
              position: fixed;
              top: 150px;
              width: 500px;
              border: 1px solid rgb(204, 204, 204);
              background: rgb(255, 255, 255);
              padding: 30px;
              z-index: 100001;
              left: 50% !important;
              display: none;
            "
          >
            <div class="">
              <h3
                class="clickbtnlabel"
                style="font-size: 17px; padding-bottom: 10px"
              >
                New Feature
              </h3>
            </div>
            <div class="">
              <div class="form-group">
                <span id="labelbuildfeature"></span>
              </div>
              <div style="clear: both"></div>
              <div class="">
                <input
                  style="
                    background: #1e62d0;
                    color: #fff;
                    padding: 6px 18px;
                    border: none;
                    border-radius: 3px;
                    float: right;
                  "
                  type="button"
                  class="ClosePopupCls"
                  value="OK"
                  onclick="closeFeatureMaster();"
                />
              </div>
            </div>
            <input type="hidden" name="ctl00$hdnSmsBody" id="hdnSmsBody" />
          </div>

          <script src="https://cdn.healthscion.com/Scripts/jquery-1.8.3.min.js"></script>

          <script src="https://cdn.healthscion.com/Scripts/jquery-ui-1.9.1.custom.min.js"></script>
          <script
            src="https://cdn.healthscion.com/Scripts/jPlugins.js"
            type="text/javascript"
          ></script>

          <link
            href="https://cdn.healthscion.com/Scripts/Bootstrap/bootstrap.css"
            rel="stylesheet"
          />
          <link
            href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"
            rel="stylesheet"
          />
          <link
            href="https://cdn.healthscion.com/clinic/css/pixel-admin.min.css"
            rel="stylesheet"
          />
          <link
            href="https://cdn.healthscion.com/Scripts/CSS/validationEngine.jquery.css"
            rel="stylesheet"
          />
          <link
            href="https://cdn.healthscion.com/Scripts/CSS/kendo.common.min.css"
            rel="stylesheet"
          />
          <link
            href="https://cdn.healthscion.com/Scripts/CSS/kendo.metro.min.css"
            rel="stylesheet"
          />
          <link href="../Scripts/SelectNewDropdown.css" rel="stylesheet" />
          <link href="../Scripts/selectize.default.css" rel="stylesheet" />
          <link
            href="https://cdn.healthscion.com/Scripts/CSS/telerikReportViewer-8.2.14.1027.css"
            rel="stylesheet"
          />
          <link href="Scripts/css/style.css" rel="stylesheet" />
          <link
            rel="stylesheet"
            type="text/css"
            href="//cdn.jsdelivr.net/bootstrap.daterangepicker/1/daterangepicker-bs3.css"
          />
          <style>
            #loading {
              text-align: center;
              background-color: rgb(255, 255, 255) !important;
              position: absolute;
              z-index: 99;
              width: 60.9%;
              margin-left: -15px;
              top: 131px;
              height: 625px;
            }

            .select2-chosen:hover {
              color: #000 !important;
            }

            .select2-results .select2-highlighted {
              background-color: #fafafa;
              color: #000;
            }

            .btn1 {
              display: inline-block;
              padding: 3px 12px;
              margin-bottom: 0;
              font-size: 13px;
              font-weight: normal;
              line-height: 1.42857143;
              text-align: center;
              white-space: nowrap;
              vertical-align: middle;
              cursor: pointer;
              -webkit-user-select: none;
              -moz-user-select: none;
              -ms-user-select: none;
              user-select: none;
              background-image: none;
              border: 1px solid transparent;
              border-radius: 3px;
            }

            .msgcss {
              text-align: center;
              color: chocolate;
              font-size: 19px;
              margin-top: 22px;
            }

            .dropdown-menu.ng-isolate-scope {
              overflow-y: scroll;
              height: 350px;
            }

            .expensesBox {
              padding: 10px 30px 0px;
              text-align: center;
              font-size: 14px;
              margin-bottom: 15px;
              min-height: 70px;
              border-radius: 2px;
              cursor: pointer;
            }

            .expensesBox span {
              display: block;
              text-align: center;
              font-size: 20px;
            }

            .boxColor01 {
              background: #fff;
              border: 1px solid #ddd;
              color: #595959;
            }

            .boxColor01 span {
              color: #2e98cc;
            }

            .boxColor01 span i {
              font-size: 19px;
              margin-right: 4px;
            }

            .boxColor01 span b {
              font-weight: normal;
            }

            .boxColor01:hover {
              background: #f8f8f8;
            }

            .boxColor02 {
              background: #fff;
              border: 1px solid #ddd;
              color: #595959;
            }

            .boxColor02 span {
              color: #2e98cc;
            }

            .boxColor03 {
              background: #fff;
              border: 1px solid #ddd;
              color: #595959;
            }

            .boxColor03 span {
              color: #2e98cc;
            }

            .boxColor04 {
              background: #fff;
              border: 1px solid #ddd;
              color: #595959;
            }

            .boxColor04 span {
              color: #2e98cc;
            }

            .boxColor05 {
              background: #fff;
              border: 1px solid #ddd;
              color: #595959;
            }

            .boxColor05 span {
              color: #2e98cc;
            }

            .boxColor06 {
              background: #fff;
              border: 1px solid #ddd;
              color: #595959;
            }

            .boxColor06 span {
              color: #2e98cc;
            }

            .boxColor07 {
              background: #fff;
              border: 1px solid #ddd;
              color: #595959;
            }

            .boxColor07 span {
              color: #2e98cc;
            }

            .btnBlueBox {
              border: 1px solid #93beff;
              padding: 7px 15px;
              border-radius: 4px;
              color: #3172d6;
              background: #f7faff;
            }

            .btnBlueBox:hover {
              background: #e5efff;
            }

            .btnClearBox {
              border: 1px solid #ccc;
              padding: 6px 15px;
              border-radius: 4px;
              color: #595959;
              background: #f2f2f2;
            }
            .form-control {
              background-color: #fafafa;
              border-radius: 4px;
            }
            .btn:hover,
            .btn-default:hover {
              background: none !important;
            }
            .selectize-input {
              background: none !important;
              box-shadow: none !important;
              height: 34px;
              border: 1px solid #c2c2c2 !important;
            }
            #btnLoad {
              height: 35px;
              background: #428bca;
              border: none;
              color: #fff;
              padding: 0 15px;
            }
            #btnLoad:hover {
              background: #3276b1 !important;
            }
            .k-picker-wrap.k-state-default input {
              height: 28px;
            }
            .k-widget.k-datetimepicker.k-header.ng-pristine.ng-valid.k-input {
              margin-top: -3px;
            }
            .btn1.btn-primary.loadBTn {
              height: 37px;
            }
            #btnLoad:hover {
              background: #3276b1 !important;
            }
            .k-picker-wrap.k-state-default span.k-select {
              margin-top: 4px;
            }
            #MainContantDiv label {
              font-weight: normal !important;
            }
          </style>

          <a
            class="btn"
            data-popup-open="popup-1"
            href="javascript:void(0);"
            style="
              position: absolute;
              top: 13px;
              right: 122px;
              background: none;
              border: none;
            "
          >
            <img src="../../Image/youtubeIcon.png"
          /></a>
          
          <div
            id="MainContantDiv"
            data-ng-app="IncomeApp"
            data-ng-controller="IncomeAppcontroller"
            class="validationEngineContainer ng-scope"
          >
            <div
              class="col-md-3 action-msg"
              style="
                position: fixed;
                right: 7px;
                z-index: 99999;
                top: 88px;
                display: none;
              "
            >
              <div class="alert alert-success">
                <button type="button" class="close" data-dismiss="alert">
                  Ã—
                </button>
                <strong data-ng-bind="Message" class="ng-binding"></strong>
              </div>
            </div>
            <div
              id="loading"
              style="
                background-color: rgb(255, 255, 255) !important;
                text-align: center;
                display: none;
              "
            >
              <div class="space-100"></div>
              <img class="text-center" src="../Images/Preloader_2.gif" />
            </div>
            <h1 class="page-header">Account Management</h1>
            <div class="col-md-3 col-sm-3">
              <div class="form-group">
                <label style="font-weight: normal"
                  >Select Branch:<span class="starRd">*</span></label
                >
                <div
                  class="ui-select-container selectize-control single ng-pristine ng-valid"
                  ng-class="{'open': $select.open}"
                  id="drpBranchsearch"
                  data-ng-model="tbranch.selected"
                  theme="selectize"
                  data-ng-change="branchChange($select.selected)"
                >
                  <div
                    class="selectize-input"
                    ng-class="{'focus': $select.open, 'disabled': $select.disabled, 'selectize-focus' : $select.focus}"
                    ng-click="$select.activate()"
                  >
                    <div
                      ng-hide="($select.open || $select.isEmpty())"
                      class="ui-select-match"
                      ng-transclude=""
                      placeholder="Select"
                    >
                      <span
                        ng-bind="$select.selected.Name"
                        class="ng-binding ng-scope"
                        >All</span
                      >
                    </div>
                    <input
                      type="text"
                      autocomplete="off"
                      tabindex="-1"
                      class="ui-select-search ui-select-toggle ng-pristine ng-valid ng-hide"
                      ng-click="$select.toggle($event)"
                      placeholder="Select"
                      ng-model="$select.search"
                      ng-hide="!$select.searchEnabled || ($select.selected &amp;&amp; !$select.open)"
                      ng-disabled="$select.disabled"
                      aria-label="Select box"
                    />
                  </div>
                  <div
                    ng-show="$select.open"
                    class="ui-select-choices selectize-dropdown single ng-scope ng-hide"
                    repeat="tbranch in (VersionList | filter: $select.search) track by tbranch.LocationId"
                  >
                    <div
                      class="ui-select-choices-content selectize-dropdown-content"
                    >
                      <div
                        class="ui-select-choices-group optgroup"
                        role="listbox"
                      >
                        <div
                          ng-show="$select.isGrouped"
                          class="ui-select-choices-group-label optgroup-header ng-binding ng-hide"
                          ng-bind="$group.name"
                        ></div>
                        <!-- ngRepeat: tbranch in $select.items track by tbranch.LocationId --><!-- ngIf: $select.open --><!-- end ngRepeat: tbranch in $select.items track by tbranch.LocationId --><!-- ngIf: $select.open --><!-- end ngRepeat: tbranch in $select.items track by tbranch.LocationId --><!-- ngIf: $select.open --><!-- end ngRepeat: tbranch in $select.items track by tbranch.LocationId --><!-- ngIf: $select.open --><!-- end ngRepeat: tbranch in $select.items track by tbranch.LocationId --><!-- ngIf: $select.open --><!-- end ngRepeat: tbranch in $select.items track by tbranch.LocationId -->
                      </div>
                    </div>
                  </div>
                  <ui-select-single></ui-select-single
                  >
                </div>
              </div>
            </div>
            <div class="col-md-3 col-sm-3">
              <label style="font-weight: normal">Select Date Range:</label>
              <i
                class="fa fa-calendar"
                style="
                  position: absolute;
                  right: 25px;
                  top: 33px;
                  font-size: 14px;
                  color: #595959;
                "
              ></i>
              <input
                type="text"
                name="daterange"
                id="DateTime"
                class="form-control"
                placeholder="Select Date"
                style="cursor: default"
                readonly=""
              />
            </div>

            <div class="col-md-6" style="margin-top: -2px">
              <div style="height: 25px"></div>

              <div class="">
                <input
                  id="btnlastmonth"
                  type="button"
                  value="Last Month"
                  class="btnBlueBox"
                />
                <input
                  id="btnlast3month"
                  type="button"
                  value="Last 3 Month"
                  class="btnBlueBox"
                />
                <input
                  id="btnlast6month"
                  type="button"
                  value="Last 6 Month"
                  class="btnBlueBox"
                />
                <input
                  id="btnlast12month"
                  type="button"
                  value="Last 12 Month"
                  class="btnBlueBox"
                />
                <input
                  id="Button1"
                  type="button"
                  value="Clear"
                  class="btnClearBox"
                />
              </div>
            </div>

            <div class="space-20"></div>
            
            <div class="">
              <div class="col-md-3">
                <div class="expensesBox boxColor01" id="divIncome">
                  Income
                  <span
                    ><b id="spanIncome"
                      ><i class="fa fa-rupee"></i>9660.00</b
                    ></span
                  >
                </div>
              </div>
              <div class="col-md-3">
                <div class="expensesBox boxColor01" id="divOutSource">
                  Outsource Test
                  <span><b id="spanOutsource">-</b></span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="expensesBox boxColor01" id="divInsurance">
                  Insurance Panel
                  <span><b id="spanInsurance">-</b></span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="expensesBox boxColor01" id="divPanelDoctor">
                  Panel Doctors/Facilities
                  <span><b id="spanPanelDoc">-</b></span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="expensesBox boxColor01" id="divCorporate">
                  Corporate Panel
                  <span><b id="spanCorporate">-</b></span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="expensesBox boxColor01" id="divExpenses">
                  Expenses
                  <span><b id="spanExpenses">-</b></span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="expensesBox boxColor01" id="divRevenue">
                  Test Wise Revenue
                  <span
                    ><b id="spanRevenue"
                      ><i class="fa fa-rupee"></i>9660.00</b
                    ></span
                  >
                </div>
              </div>
              
            </div>
            <div class="space-5"></div>
            <div id="divshowrevenue" style="display: none">
              <div class="col-md-12">
                <label style="font-weight: normal">
                  <input
                    style="vertical-align: -2px"
                    type="radio"
                    name="optTestWise"
                    value="none"
                    id="Radio2"
                    checked=""
                  />
                  Show All</label
                >
                <label style="margin-right: 15px; font-weight: normal">
                  <input
                    style="vertical-align: -2px"
                    type="radio"
                    name="optTestWise"
                    value="Insurance"
                    id="Radio4"
                  />
                  Select Insurance Panel</label
                >
                <label style="margin-right: 15px; font-weight: normal">
                  <input
                    style="vertical-align: -2px"
                    type="radio"
                    name="optTestWise"
                    value="Coperate"
                    id="Radio1"
                  />
                  Select Corporate Panel</label
                >
              </div>
              <div class="space-5"></div>
              <div class="col-md-12">
                <div class="row">
                  <div class="col-md-3" id="dsInsurance" style="display: none">
                    <div
                      class="ui-select-container selectize-control single ng-pristine ng-valid"
                      ng-class="{'open': $select.open}"
                      style="width: 100%"
                      data-ng-model="tclient.selected"
                      theme="selectize"
                    >
                      <div
                        class="selectize-input"
                        ng-class="{'focus': $select.open, 'disabled': $select.disabled, 'selectize-focus' : $select.focus}"
                        ng-click="$select.activate()"
                      >
                        <div
                          ng-hide="($select.open || $select.isEmpty())"
                          class="ui-select-match"
                          ng-transclude=""
                          placeholder="Select"
                        >
                          <span
                            ng-bind="$select.selected.Name"
                            class="ng-binding ng-scope"
                            >None</span
                          >
                        </div>
                        <input
                          type="text"
                          autocomplete="off"
                          tabindex="-1"
                          class="ui-select-search ui-select-toggle ng-pristine ng-valid ng-hide"
                          ng-click="$select.toggle($event)"
                          placeholder="Select"
                          ng-model="$select.search"
                          ng-hide="!$select.searchEnabled || ($select.selected &amp;&amp; !$select.open)"
                          ng-disabled="$select.disabled"
                          aria-label="Select box"
                        />
                      </div>
                      <div
                        ng-show="$select.open"
                        class="ui-select-choices selectize-dropdown single ng-scope ng-hide"
                        repeat="tclient in (InsuranceList | filter: $select.search) track by tclient.PackageId"
                      >
                        <div
                          class="ui-select-choices-content selectize-dropdown-content"
                        >
                          <div
                            class="ui-select-choices-group optgroup"
                            role="listbox"
                          >
                            <div
                              ng-show="$select.isGrouped"
                              class="ui-select-choices-group-label optgroup-header ng-binding ng-hide"
                              ng-bind="$group.name"
                            ></div>
                            <!-- ngRepeat: tclient in $select.items track by tclient.PackageId -->
                          </div>
                        </div>
                      </div>
                      <ui-select-single></ui-select-single
                      ><input
                        ng-disabled="$select.disabled"
                        class="ui-select-focusser ui-select-offscreen ng-scope"
                        type="text"
                        id="focusser-1"
                        aria-label="Select box focus"
                        aria-haspopup="true"
                        role="button"
                      />
                    </div>
                  </div>
                  <div class="col-md-3" id="dsCorporate" style="display: none">
                    <div
                      class="ui-select-container selectize-control single ng-pristine ng-valid"
                      ng-class="{'open': $select.open}"
                      data-ng-model="tclientCorp.selected"
                      theme="selectize"
                    >
                      <div
                        class="selectize-input"
                        ng-class="{'focus': $select.open, 'disabled': $select.disabled, 'selectize-focus' : $select.focus}"
                        ng-click="$select.activate()"
                      >
                        <div
                          ng-hide="($select.open || $select.isEmpty())"
                          class="ui-select-match"
                          ng-transclude=""
                          placeholder="Select"
                        >
                          <span
                            ng-bind="$select.selected.CorporatePanelName"
                            class="ng-binding ng-scope"
                            >None</span
                          >
                        </div>
                        <input
                          type="text"
                          autocomplete="off"
                          tabindex="-1"
                          class="ui-select-search ui-select-toggle ng-pristine ng-valid ng-hide"
                          ng-click="$select.toggle($event)"
                          placeholder="Select"
                          ng-model="$select.search"
                          ng-hide="!$select.searchEnabled || ($select.selected &amp;&amp; !$select.open)"
                          ng-disabled="$select.disabled"
                          aria-label="Select box"
                        />
                      </div>
                      <div
                        ng-show="$select.open"
                        class="ui-select-choices selectize-dropdown single ng-scope ng-hide"
                        repeat="tclientCorp in (CorporateList | filter: $select.search) track by tclientCorp.CorporatePanelId"
                      >
                        <div
                          class="ui-select-choices-content selectize-dropdown-content"
                        >
                          <div
                            class="ui-select-choices-group optgroup"
                            role="listbox"
                          >
                            <div
                              ng-show="$select.isGrouped"
                              class="ui-select-choices-group-label optgroup-header ng-binding ng-hide"
                              ng-bind="$group.name"
                            ></div>
                            <!-- ngRepeat: tclientCorp in $select.items track by tclientCorp.CorporatePanelId -->
                          </div>
                        </div>
                      </div>
                      <ui-select-single></ui-select-single
                      ><input
                        ng-disabled="$select.disabled"
                        class="ui-select-focusser ui-select-offscreen ng-scope"
                        type="text"
                        id="focusser-2"
                        aria-label="Select box focus"
                        aria-haspopup="true"
                        role="button"
                      />
                    </div>
                  </div>
                  <div class="col-md-2">
                    <input
                      id="btnLoad"
                      type="button"
                      value="Load"
                      data-ng-click="loadValues()"
                      class="btn btn-primary"
                    />
                  </div>
                </div>
              </div>
            </div>

            <div id="divshowexpenses" style="display: none">
              <div class="col-md-3 col-sm-3" style="top: 25px">
                <input
                  type="button"
                  value="Add Entry"
                  class="btn1 btn-primary loadBTn"
                  data-ng-click="ShowMainDiv()"
                />
              </div>

              <div class="row">
                <div class="col-md-12">
                  <div
                    data-ng-show="AllField"
                    style="margin-top: 40px"
                    class="ng-hide"
                  >
                    <div class="col-md-3 col-sm-6">
                      <label>Select Date:</label>
                      <span
                        class="k-widget k-datetimepicker k-header ng-pristine ng-valid k-input"
                        style="width: 100%"
                        ><span class="k-picker-wrap k-state-default"
                          ><input
                            id="datetimepicker"
                            data-ng-model="txtdatetimepicker"
                            data-validation-engine="validate[required]"
                            data-role="datetimepicker"
                            type="text"
                            class="k-input"
                            role="combobox"
                            aria-expanded="false"
                            aria-disabled="false"
                            aria-readonly="false"
                            style="width: 100%"
                          /><span unselectable="on" class="k-select"
                            ><span
                              unselectable="on"
                              class="k-icon k-i-calendar"
                              role="button"
                              aria-controls="datetimepicker_dateview"
                              >select</span
                            ><span
                              unselectable="on"
                              class="k-icon k-i-clock"
                              role="button"
                              aria-controls="datetimepicker_timeview"
                              >select</span
                            ></span
                          ></span
                        ></span
                      >
                    </div>
                    <div class="col-md-3 col-sm-6">
                      <div class="form-group">
                        <label
                          >Type / Description:<span class="starRd"
                            >*</span
                          ></label
                        >
                        <input
                          type="text"
                          id="txtType"
                          data-ng-model="Description_Type"
                          class="form-control ng-pristine ng-valid"
                          data-validation-engine="validate[required]"
                        />
                      </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                      <div class="form-group">
                        <label>Assigned By:<span class="starRd">*</span></label>
                        <div
                          class="select2-container form-control"
                          id="s2id_StaffAssign"
                        >
                          <a
                            href="javascript:void(0)"
                            onclick="return false;"
                            class="select2-choice select2-default"
                            tabindex="-1"
                          >
                            <span class="select2-chosen">Select Staff</span
                            ><abbr class="select2-search-choice-close"></abbr>
                            <span class="select2-arrow"><b></b></span></a
                          ><input
                            class="select2-focusser select2-offscreen"
                            type="text"
                            id="s2id_autogen1"
                          />
                          <div
                            class="select2-drop select2-display-none select2-with-searchbox"
                          >
                            <div class="select2-search">
                              <input
                                type="text"
                                autocomplete="off"
                                autocorrect="off"
                                autocapitalize="off"
                                spellcheck="false"
                                class="select2-input"
                              />
                            </div>
                            <ul class="select2-results"></ul>
                          </div>
                        </div>
                        <select
                          id="StaffAssign"
                          class="form-control select2-offscreen"
                          data-validation-engine="validate[required]"
                          tabindex="-1"
                        >
                          <option value=""></option>
                          <!-- ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="f5754a9d-469a-4203-8bd5-4f2d91603f33"
                          >
                            Dr. Ashok Kumar Goyal
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="aff9ac4a-c861-4858-9122-853c9ef2bd42"
                          >
                            Dr. brijesh Doctor
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="a6bdda43-8359-4f20-8249-1e1a81a30a61"
                          >
                            Dr. brijesh Doctor
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="d1d1107f-0195-47a2-b516-29af7cf2e17d"
                          >
                            Dr. brijesh Doctor
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="4c93238a-6ca5-4507-be9c-d2d5ef998ee8"
                          >
                            Dr. BRIJESH RAWAT
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="2b7d47d6-ee5e-49da-94e0-8603842bbcda"
                          >
                            Dr. brijesh01 Doctor
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="8a5f2abf-7bcc-4dcd-aa51-87a9a07e6dc7"
                          >
                            Dr. Prashant Mudgal
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="e252dcfe-1687-41a4-ad6b-4452ce495ca8"
                          >
                            Dr. R A Goyal
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="8f54a232-24d3-4b8d-93a6-b3de02ca667a"
                          >
                            Dr. R A Goyal
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="aa4b41b7-18c4-4763-afb3-dace7258dca5"
                          >
                            Dr. R A Goyal
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="4ecea185-e928-442b-9081-e835ef452848"
                          >
                            Dr. R A Goyal MD (Path)
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="2ccc4412-8673-4434-9fa3-baca62032ccd"
                          >
                            Dr. R.A. Goyal
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                          <option
                            data-ng-repeat="Staff in AllStaffDetailes"
                            data-ng-value="Staff.StaffId"
                            class="ng-binding ng-scope"
                            value="5ac6f9bd-e507-4af3-be13-9bd70c72ef36"
                          >
                            Dr. R.A. Goyal M.D
                          </option>
                          <!-- end ngRepeat: Staff in AllStaffDetailes -->
                        </select>
                      </div>
                    </div>
                    <div class="space-1"></div>

                    <div class="col-md-3 col-sm-6">
                      <label>Given To:<span class="starRd">*</span></label>
                      <input
                        type="text"
                        id="txtStaffGivento"
                        ng-model="StaffGivento"
                        data-ng-keyup="GivenToKeyup()"
                        data-ng-blur="GivenToblur($event)"
                        uib-typeahead="Details.Name for Details in AllGivenStaffDetailes | filter:{Name:$viewValue}"
                        typeahead-on-select="StaffSearch($item, $model, $label)"
                        class="form-control ng-pristine ng-valid"
                        typeahead-show-hint="true"
                        typeahead-min-length="0"
                      />

                      <label style="margin-top: 12px; font-weight: normal"
                        ><input
                          type="checkbox"
                          id="CreateCheck"
                          style="vertical-align: -2px"
                        />
                        Check For Create
                      </label>
                    </div>
                    <div class="col-md-3 col-sm-6">
                      <label>Amount:<span class="starRd">*</span></label>
                      <input
                        type="text"
                        id="txtAmount"
                        data-ng-model="Amount"
                        class="form-control ng-pristine ng-valid"
                        oninput="this.value = this.value.replace(/[^0-9]/g, ''); this.value = this.value.replace(/(\..*)\./g, '$1');"
                        data-validation-engine="validate[required,[custom[numericvalue]]]"
                      />
                    </div>
                    <div class="col-md-3 col-sm-6">
                      <label>Refund:</label>
                      <input
                        type="text"
                        id="txtRefund"
                        data-ng-model="Refund"
                        class="form-control ng-pristine ng-valid"
                        oninput="this.value = this.value.replace(/[^0-9]/g, ''); this.value = this.value.replace(/(\..*)\./g, '$1');"
                        data-validation-engine="validate[custom[numericvalue]]"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="space-20"></div>
              <label id="Givenlbl" style="color: red; display: none"
                >Invalid Given To</label
              >

              <div class="col-md-12" style="position: relative">
                <div data-ng-show="divbuttonSave" class="ng-hide">
                  <input
                    type="button"
                    class="btn1 btn-primary"
                    data-ng-click="save()"
                    value="Save"
                    id="btnsave"
                  />
                  <button
                    type="button"
                    class="btn btn-default btn-grey"
                    data-dismiss="modal"
                    data-ng-click="clear()"
                  >
                    Clear
                  </button>
                </div>
                <div class="space-20"></div>
                <div>
                  <button
                    type="button"
                    onclick="showIncomeExpensesReport(); return false;"
                    data-ng-show="divbuttonReport"
                    class="btn1 btn-primary loadBTn ng-hide"
                  >
                    Load Expenses Report
                  </button>
                </div>
              </div>
            </div>

            <div class="space-10"></div>
            <div class="col-md-12">
              <div data-ng-show="showchart" id="chart" class=""></div>

              <div id="grdInsurance"></div>
              <div id="grdcp"></div>
              <div id="gridDrRefferal" style="display: none"></div>
              <div id="gridOutSource" style="display: none"></div>
              <div id="testwiserevenue" style="display: none">
                <button
                  id="btntestwisereport"
                  type="button"
                  class="btn1 btn-primary loadBTn"
                >
                  Test Wise Revenue Report
                </button>
                <div class="space-10"></div>
                <div id="grdTestWiseRevenue"></div>
              </div>

              <div data-ng-show="showgrid" id="rowSelection" class=""></div>
              <div id="incomegrid">
                <div id="divradio" style="display: none">
                  <label
                    for="rdbDailybasis"
                    style="margin-right: 15px; font-weight: normal"
                  >
                    <input
                      type="radio"
                      name="Sample"
                      id="rdbDailybasis"
                      value="0"
                      checked="checked"
                      style="vertical-align: -2px"
                    />
                    Daily Basis
                  </label>
                  <label for="rdbMonthlybasis" style="font-weight: normal">
                    <input
                      type="radio"
                      name="Sample"
                      id="rdbMonthlybasis"
                      value="1"
                      style="vertical-align: -2px"
                    />
                    Monthly Basis
                  </label>
                </div>
                <div id="stockchart"></div>
                <button
                  id="btnincomereport"
                  type="button"
                  onclick="showIncomeReport(); return false;"
                  class="btn1 btn-primary loadBTn"
                  style="display: none"
                >
                  Load Income Report
                </button>
                <div class="space-10"></div>
                <div id="grid"></div>
              </div>
              <div class="space-20"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div id="ShowMsg" class="msgcss" style="display: none"></div>
            </div>
          </div>

          <div
            class="space-40"
            id="reportViewerHtml5IncomExpensesReport"
            style="width: 840px; height: 600px; display: none"
          >
            <div class="trv-report-viewer">
              <div
                class="trv-side-menu k-content"
                data-role="telerik_ReportViewer_SideMenu"
              >
                <ul
                  data-role="panelbar"
                  class="k-widget k-reset k-header k-panelbar"
                  tabindex="0"
                  role="menu"
                >
                  <li class="k-item k-state-default k-first" role="menuitem">
                    <a
                      data-command="telerik_ReportViewer_historyBack"
                      title="Navigate Backward"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-mail-reply icon-mail-reply"></i
                      ><span>Navigate Backward</span></a
                    >
                  </li>
                  <li class="k-item k-state-default" role="menuitem">
                    <a
                      data-command="telerik_ReportViewer_historyForward"
                      title="Navigate Forward"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-mail-forward icon-mail-forward"></i
                      ><span>Navigate Forward</span></a
                    >
                  </li>
                  <li class="k-item k-state-default" role="menuitem">
                    <a
                      data-command="telerik_ReportViewer_refresh"
                      href="#"
                      title="Refresh"
                      class="k-link k-header"
                      ><i class="fa fa-refresh icon-refresh"></i
                      ><span>Refresh</span></a
                    >
                  </li>
                  <li class="k-item k-state-default" role="menuitem">
                    <a
                      data-command="telerik_ReportViewer_print"
                      title="Print"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-print icon-print"></i
                      ><span>Print...</span></a
                    >
                  </li>
                  <li
                    aria-expanded="false"
                    class="k-item k-state-default"
                    role="menuitem"
                  >
                    <a
                      title="Export"
                      href="#"
                      data-command="telerik_ReportViewer_export"
                      class="k-link k-header"
                      ><i class="fa fa-cloud-download icon-cloud-download"></i
                      ><span>Export</span
                      ><span class="k-icon k-i-arrow-s k-panelbar-expand"></span
                    ></a>
                    <ul
                      data-command-list="export-format-list"
                      class="k-group k-panel"
                      role="group"
                      aria-hidden="true"
                      style="display: none"
                    ></ul>
                  </li>
                  <li class="k-item k-state-default k-last" role="menuitem">
                    <a
                      data-command="telerik_ReportViewer_togglePrintPreview"
                      title="Toggle Print Preview"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-file-text icon-file-text"></i
                      ><span>Toggle Print Preview</span></a
                    >
                  </li>
                </ul>
              </div>
              <div class="trv-content-wrapper k-content">
                <div class="trv-content">
                  <div
                    class="trv-document-map k-widget hidden"
                    data-role="telerik_ReportViewer_DocumentMapArea"
                  >
                    <div class="trv-document-map-overlay"></div>
                    <div></div>
                  </div>

                  <div
                    class="trv-parameters-area k-widget hidden"
                    data-role="telerik_ReportViewer_ParametersArea"
                  >
                    <div class="trv-parameters-area-content"></div>
                    <div class="trv-parameters-area-footer">
                      <button
                        class="k-button trv-parameters-area-preview-button"
                      >
                        Preview
                      </button>
                    </div>
                    <div class="trv-error-pane k-tooltip-validation k-widget">
                      <div class="trv-error-message"></div>
                    </div>
                    <div class="trv-parameters-area-overlay"></div>
                  </div>

                  <div
                    class="trv-pages-area k-widget"
                    data-role="telerik_ReportViewer_PagesArea"
                  >
                    <div class="trv-page-container"></div>
                    <div class="trv-error-pane">
                      <div class="centered k-tooltip-validation k-widget">
                        <div class="trv-error-message"></div>
                      </div>
                      <div style="clear: both"></div>
                    </div>
                  </div>
                </div>

                <div class="trv-nav">
                  <ul
                    class="trv-menu-large k-widget k-reset k-header k-menu k-menu-horizontal"
                    data-role="telerik_ReportViewer_MainMenu"
                    tabindex="0"
                    role="menubar"
                  >
                    <li class="k-item k-state-default k-first" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_historyBack"
                        title="Navigate Backward"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-mail-reply icon-mail-reply"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_historyForward"
                        title="Navigate Forward"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-mail-forward icon-mail-forward"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_refresh"
                        href="#"
                        title="Refresh"
                        class="k-link"
                        ><i class="fa fa-refresh icon-refresh"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_goToFirstPage"
                        title="First Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-fast-backward icon-fast-backward"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_goToPrevPage"
                        title="Previous Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-step-backward icon-step-backward"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <span class="k-link"
                        ><input
                          data-role="telerik_ReportViewer_PageNumberInput"
                          type="number" /><span>&nbsp;/&nbsp;</span
                        ><span
                          data-role="telerik_ReportViewer_PageCountLabel"
                        ></span
                      ></span>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_goToNextPage"
                        title="Next Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-step-forward icon-step-forward"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_goToLastPage"
                        title="Last Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-fast-forward icon-fast-forward"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_togglePrintPreview"
                        title="Toggle Print Preview"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-file-text icon-file-text"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        title="Export"
                        href="#"
                        data-command="telerik_ReportViewer_export"
                        class="k-link"
                        ><i class="fa fa-cloud-download icon-cloud-download"></i
                        ><span class="k-icon k-i-arrow-s"></span
                      ></a>
                      <ul
                        data-command-list="export-format-list"
                        class="k-group k-menu-group"
                        role="menu"
                        aria-hidden="false"
                      ></ul>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_print"
                        title="Print"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-print icon-print"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_toggleDocumentMap"
                        title="Toggle Document Map"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-book icon-book"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_toggleParametersArea"
                        title="Toggle Parameters Area"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-filter icon-filter"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        title="Zoom In"
                        href="#"
                        data-command="telerik_ReportViewer_zoomIn"
                        class="k-link"
                        ><i class="fa fa-search-plus icon-zoom-in"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        title="Zoom Out"
                        href="#"
                        data-command="telerik_ReportViewer_zoomOut"
                        class="k-link"
                        ><i class="fa fa-search-minus icon-zoom-out"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default k-last" role="menuitem">
                      <a
                        title="Toggle FullPage/PageWidth"
                        href="#"
                        data-command="telerik_ReportViewer_toggleZoomMode"
                        class="k-link"
                        ><i class="fa fa-search icon-search"></i
                      ></a>
                    </li>
                  </ul>
                  <ul
                    class="trv-menu-small k-widget k-reset k-header k-menu k-menu-horizontal"
                    data-role="telerik_ReportViewer_MainMenu"
                    tabindex="0"
                    role="menubar"
                  >
                    <li class="k-item k-state-default k-first" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_toggleSideMenu"
                        title="Toggle Side Menu"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-bars icon-reorder"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <span class="k-link"
                        ><input
                          data-role="telerik_ReportViewer_PageNumberInput"
                          type="number" /><span>&nbsp;/&nbsp;</span
                        ><span
                          data-role="telerik_ReportViewer_PageCountLabel"
                        ></span
                      ></span>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_toggleDocumentMap"
                        title="Toggle Document Map"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-book icon-book"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default k-last" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_toggleParametersArea"
                        title="Toggle Parameters Area"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-filter icon-filter"></i
                      ></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div
            class="space-40"
            id="reportViewerHtml5IncomeReport"
            style="width: 840px; height: 600px; display: none"
          >
            <div class="trv-report-viewer">
              <div
                class="trv-side-menu k-content"
                data-role="telerik_ReportViewer_SideMenu"
              >
                <ul
                  data-role="panelbar"
                  class="k-widget k-reset k-header k-panelbar"
                  tabindex="0"
                  role="menu"
                >
                  <li
                    class="k-item k-state-default k-first k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_historyBack"
                      title="Navigate Backward"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-mail-reply icon-mail-reply"></i
                      ><span>Navigate Backward</span></a
                    >
                  </li>
                  <li
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_historyForward"
                      title="Navigate Forward"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-mail-forward icon-mail-forward"></i
                      ><span>Navigate Forward</span></a
                    >
                  </li>
                  <li
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_refresh"
                      href="#"
                      title="Refresh"
                      class="k-link k-header"
                      ><i class="fa fa-refresh icon-refresh"></i
                      ><span>Refresh</span></a
                    >
                  </li>
                  <li
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_print"
                      title="Print"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-print icon-print"></i
                      ><span>Print...</span></a
                    >
                  </li>
                  <li
                    aria-expanded="false"
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      title="Export"
                      href="#"
                      data-command="telerik_ReportViewer_export"
                      class="k-link k-header"
                      ><i class="fa fa-cloud-download icon-cloud-download"></i
                      ><span>Export</span
                      ><span class="k-icon k-i-arrow-s k-panelbar-expand"></span
                    ></a>
                    <ul
                      data-command-list="export-format-list"
                      class="k-group k-panel"
                      role="group"
                      aria-hidden="true"
                      style="display: none"
                    ></ul>
                  </li>
                  <li
                    class="k-item k-state-default k-last k-state-disabled k-state-selected"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_togglePrintPreview"
                      title="Toggle Print Preview"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-file-text icon-file-text"></i
                      ><span>Toggle Print Preview</span></a
                    >
                  </li>
                </ul>
              </div>
              <div class="trv-content-wrapper k-content">
                <div class="trv-content">
                  <div
                    class="trv-document-map k-widget hidden"
                    data-role="telerik_ReportViewer_DocumentMapArea"
                  >
                    <div class="trv-document-map-overlay"></div>
                    <div></div>
                  </div>

                  <div
                    class="trv-parameters-area k-widget hidden"
                    data-role="telerik_ReportViewer_ParametersArea"
                  >
                    <div class="trv-parameters-area-content"></div>
                    <div class="trv-parameters-area-footer">
                      <button
                        class="k-button trv-parameters-area-preview-button"
                      >
                        Preview
                      </button>
                    </div>
                    <div class="trv-error-pane k-tooltip-validation k-widget">
                      <div class="trv-error-message"></div>
                    </div>
                    <div class="trv-parameters-area-overlay"></div>
                  </div>

                  <div
                    class="trv-pages-area k-widget"
                    data-role="telerik_ReportViewer_PagesArea"
                  >
                    <div class="trv-page-container"></div>
                    <div class="trv-error-pane">
                      <div class="centered k-tooltip-validation k-widget">
                        <div class="trv-error-message"></div>
                      </div>
                      <div style="clear: both"></div>
                    </div>
                  </div>
                </div>

                <div class="trv-nav">
                  <ul
                    class="trv-menu-large k-widget k-reset k-header k-menu k-menu-horizontal"
                    data-role="telerik_ReportViewer_MainMenu"
                    tabindex="0"
                    role="menubar"
                  >
                    <li
                      class="k-item k-state-default k-first k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_historyBack"
                        title="Navigate Backward"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-mail-reply icon-mail-reply"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_historyForward"
                        title="Navigate Forward"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-mail-forward icon-mail-forward"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_refresh"
                        href="#"
                        title="Refresh"
                        class="k-link"
                        ><i class="fa fa-refresh icon-refresh"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToFirstPage"
                        title="First Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-fast-backward icon-fast-backward"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToPrevPage"
                        title="Previous Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-step-backward icon-step-backward"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <span class="k-link"
                        ><input
                          data-role="telerik_ReportViewer_PageNumberInput"
                          type="number" /><span>&nbsp;/&nbsp;</span
                        ><span
                          data-role="telerik_ReportViewer_PageCountLabel"
                        ></span
                      ></span>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToNextPage"
                        title="Next Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-step-forward icon-step-forward"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToLastPage"
                        title="Last Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-fast-forward icon-fast-forward"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled k-state-selected"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_togglePrintPreview"
                        title="Toggle Print Preview"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-file-text icon-file-text"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Export"
                        href="#"
                        data-command="telerik_ReportViewer_export"
                        class="k-link"
                        ><i class="fa fa-cloud-download icon-cloud-download"></i
                        ><span class="k-icon k-i-arrow-s"></span
                      ></a>
                      <ul
                        data-command-list="export-format-list"
                        class="k-group k-menu-group"
                        role="menu"
                        aria-hidden="false"
                      ></ul>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_print"
                        title="Print"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-print icon-print"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleDocumentMap"
                        title="Toggle Document Map"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-book icon-book"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleParametersArea"
                        title="Toggle Parameters Area"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-filter icon-filter"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Zoom In"
                        href="#"
                        data-command="telerik_ReportViewer_zoomIn"
                        class="k-link"
                        ><i class="fa fa-search-plus icon-zoom-in"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Zoom Out"
                        href="#"
                        data-command="telerik_ReportViewer_zoomOut"
                        class="k-link"
                        ><i class="fa fa-search-minus icon-zoom-out"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-last k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Toggle FullPage/PageWidth"
                        href="#"
                        data-command="telerik_ReportViewer_toggleZoomMode"
                        class="k-link"
                        ><i class="fa fa-search icon-search"></i
                      ></a>
                    </li>
                  </ul>
                  <ul
                    class="trv-menu-small k-widget k-reset k-header k-menu k-menu-horizontal"
                    data-role="telerik_ReportViewer_MainMenu"
                    tabindex="0"
                    role="menubar"
                  >
                    <li class="k-item k-state-default k-first" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_toggleSideMenu"
                        title="Toggle Side Menu"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-bars icon-reorder"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <span class="k-link"
                        ><input
                          data-role="telerik_ReportViewer_PageNumberInput"
                          type="number" /><span>&nbsp;/&nbsp;</span
                        ><span
                          data-role="telerik_ReportViewer_PageCountLabel"
                        ></span
                      ></span>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleDocumentMap"
                        title="Toggle Document Map"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-book icon-book"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-last k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleParametersArea"
                        title="Toggle Parameters Area"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-filter icon-filter"></i
                      ></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div
            class="space-40"
            id="reportViewerHtml5TestWiseReport"
            style="width: 840px; height: 600px; display: none"
          >
            <div class="trv-report-viewer">
              <div
                class="trv-side-menu k-content"
                data-role="telerik_ReportViewer_SideMenu"
              >
                <ul
                  data-role="panelbar"
                  class="k-widget k-reset k-header k-panelbar"
                  tabindex="0"
                  role="menu"
                >
                  <li
                    class="k-item k-state-default k-first k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_historyBack"
                      title="Navigate Backward"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-mail-reply icon-mail-reply"></i
                      ><span>Navigate Backward</span></a
                    >
                  </li>
                  <li
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_historyForward"
                      title="Navigate Forward"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-mail-forward icon-mail-forward"></i
                      ><span>Navigate Forward</span></a
                    >
                  </li>
                  <li
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_refresh"
                      href="#"
                      title="Refresh"
                      class="k-link k-header"
                      ><i class="fa fa-refresh icon-refresh"></i
                      ><span>Refresh</span></a
                    >
                  </li>
                  <li
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_print"
                      title="Print"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-print icon-print"></i
                      ><span>Print...</span></a
                    >
                  </li>
                  <li
                    aria-expanded="false"
                    class="k-item k-state-default k-state-disabled"
                    role="menuitem"
                  >
                    <a
                      title="Export"
                      href="#"
                      data-command="telerik_ReportViewer_export"
                      class="k-link k-header"
                      ><i class="fa fa-cloud-download icon-cloud-download"></i
                      ><span>Export</span
                      ><span class="k-icon k-i-arrow-s k-panelbar-expand"></span
                    ></a>
                    <ul
                      data-command-list="export-format-list"
                      class="k-group k-panel"
                      role="group"
                      aria-hidden="true"
                      style="display: none"
                    ></ul>
                  </li>
                  <li
                    class="k-item k-state-default k-last k-state-disabled k-state-selected"
                    role="menuitem"
                  >
                    <a
                      data-command="telerik_ReportViewer_togglePrintPreview"
                      title="Toggle Print Preview"
                      href="#"
                      class="k-link k-header"
                      ><i class="fa fa-file-text icon-file-text"></i
                      ><span>Toggle Print Preview</span></a
                    >
                  </li>
                </ul>
              </div>
              <div class="trv-content-wrapper k-content">
                <div class="trv-content">
                  <div
                    class="trv-document-map k-widget hidden"
                    data-role="telerik_ReportViewer_DocumentMapArea"
                  >
                    <div class="trv-document-map-overlay"></div>
                    <div></div>
                  </div>

                  <div
                    class="trv-parameters-area k-widget hidden"
                    data-role="telerik_ReportViewer_ParametersArea"
                  >
                    <div class="trv-parameters-area-content"></div>
                    <div class="trv-parameters-area-footer">
                      <button
                        class="k-button trv-parameters-area-preview-button"
                      >
                        Preview
                      </button>
                    </div>
                    <div class="trv-error-pane k-tooltip-validation k-widget">
                      <div class="trv-error-message"></div>
                    </div>
                    <div class="trv-parameters-area-overlay"></div>
                  </div>

                  <div
                    class="trv-pages-area k-widget"
                    data-role="telerik_ReportViewer_PagesArea"
                  >
                    <div class="trv-page-container"></div>
                    <div class="trv-error-pane">
                      <div class="centered k-tooltip-validation k-widget">
                        <div class="trv-error-message"></div>
                      </div>
                      <div style="clear: both"></div>
                    </div>
                  </div>
                </div>

                <div class="trv-nav">
                  <ul
                    class="trv-menu-large k-widget k-reset k-header k-menu k-menu-horizontal"
                    data-role="telerik_ReportViewer_MainMenu"
                    tabindex="0"
                    role="menubar"
                  >
                    <li
                      class="k-item k-state-default k-first k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_historyBack"
                        title="Navigate Backward"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-mail-reply icon-mail-reply"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_historyForward"
                        title="Navigate Forward"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-mail-forward icon-mail-forward"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_refresh"
                        href="#"
                        title="Refresh"
                        class="k-link"
                        ><i class="fa fa-refresh icon-refresh"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToFirstPage"
                        title="First Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-fast-backward icon-fast-backward"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToPrevPage"
                        title="Previous Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-step-backward icon-step-backward"></i
                      ></a>
                    </li>

                    <li class="k-item k-state-default" role="menuitem">
                      <span class="k-link"
                        ><input
                          data-role="telerik_ReportViewer_PageNumberInput"
                          type="number" /><span>&nbsp;/&nbsp;</span
                        ><span
                          data-role="telerik_ReportViewer_PageCountLabel"
                        ></span
                      ></span>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToNextPage"
                        title="Next Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-step-forward icon-step-forward"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_goToLastPage"
                        title="Last Page"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-fast-forward icon-fast-forward"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled k-state-selected"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_togglePrintPreview"
                        title="Toggle Print Preview"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-file-text icon-file-text"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Export"
                        href="#"
                        data-command="telerik_ReportViewer_export"
                        class="k-link"
                        ><i class="fa fa-cloud-download icon-cloud-download"></i
                        ><span class="k-icon k-i-arrow-s"></span
                      ></a>
                      <ul
                        data-command-list="export-format-list"
                        class="k-group k-menu-group"
                        role="menu"
                        aria-hidden="false"
                      ></ul>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_print"
                        title="Print"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-print icon-print"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleDocumentMap"
                        title="Toggle Document Map"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-book icon-book"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleParametersArea"
                        title="Toggle Parameters Area"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-filter icon-filter"></i
                      ></a>
                    </li>

                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Zoom In"
                        href="#"
                        data-command="telerik_ReportViewer_zoomIn"
                        class="k-link"
                        ><i class="fa fa-search-plus icon-zoom-in"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Zoom Out"
                        href="#"
                        data-command="telerik_ReportViewer_zoomOut"
                        class="k-link"
                        ><i class="fa fa-search-minus icon-zoom-out"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-last k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        title="Toggle FullPage/PageWidth"
                        href="#"
                        data-command="telerik_ReportViewer_toggleZoomMode"
                        class="k-link"
                        ><i class="fa fa-search icon-search"></i
                      ></a>
                    </li>
                  </ul>
                  <ul
                    class="trv-menu-small k-widget k-reset k-header k-menu k-menu-horizontal"
                    data-role="telerik_ReportViewer_MainMenu"
                    tabindex="0"
                    role="menubar"
                  >
                    <li class="k-item k-state-default k-first" role="menuitem">
                      <a
                        data-command="telerik_ReportViewer_toggleSideMenu"
                        title="Toggle Side Menu"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-bars icon-reorder"></i
                      ></a>
                    </li>
                    <li class="k-item k-state-default" role="menuitem">
                      <span class="k-link"
                        ><input
                          data-role="telerik_ReportViewer_PageNumberInput"
                          type="number" /><span>&nbsp;/&nbsp;</span
                        ><span
                          data-role="telerik_ReportViewer_PageCountLabel"
                        ></span
                      ></span>
                    </li>
                    <li
                      class="k-item k-state-default k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleDocumentMap"
                        title="Toggle Document Map"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-book icon-book"></i
                      ></a>
                    </li>
                    <li
                      class="k-item k-state-default k-last k-state-disabled"
                      role="menuitem"
                    >
                      <a
                        data-command="telerik_ReportViewer_toggleParametersArea"
                        title="Toggle Parameters Area"
                        href="#"
                        class="k-link"
                        ><i class="fa fa-filter icon-filter"></i
                      ></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="space-10"></div>

          <input type="hidden" id="hdnFromDate" value="DD-06-YYYY" />
          <input type="hidden" id="hdnToDate" value="DD-06-YYYY" />

          <script src="https://cdn.healthscion.com/Scripts/jquery-1.9.1.min.js"></script>
          <script src="https://cdn.healthscion.com/Scripts/Bootstrap/bootstrap.min.js"></script>
          <script src="https://cdn.healthscion.com/clinic/scripts/pixel-admin.min.js"></script>
          <script
            type="text/javascript"
            src="//cdn.jsdelivr.net/momentjs/2.9.0/moment.min.js"
          ></script>
          <script
            type="text/javascript"
            src="//cdn.jsdelivr.net/bootstrap.daterangepicker/1/daterangepicker.js"
          ></script>
          <script src="https://cdn.healthscion.com/Scripts/jquery.validationEngine-en.js"></script>
          <script src="https://cdn.healthscion.com/Scripts/jquery.validationEngine.js"></script>
          <script src="https://cdn.healthscion.com/Scripts/kendo.all.min.js"></script>
          <script src="https://cdn.healthscion.com/Scripts/angular1.2.25.min.js"></script>

          <script src="https://cdn.healthscion.com/Scripts/angular-kendo.js"></script>

          <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.2.js"></script>
          <script src="https://cdn.healthscion.com/Scripts/telerikReportViewer-8.2.14.1027.js"></script>

          <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular-sanitize.js"></script>
          <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
          <script src="../Scripts/SelectNewDropdown.js"></script>

          <script type="text/javascript">
            $("#reportViewerHtml5IncomExpensesReport").telerik_ReportViewer({
              serviceUrl: "../../api/reports/",
              templateUrl:
                "../../ReportViewer/templates/telerikReportViewerTemplate-8.2.14.1027.html",
              viewMode: telerikReportViewer.ViewModes.PRINT_PREVIEW,
              scaleMode: telerikReportViewer.ScaleModes.SPECIFIC,
              scale: 1.0,
              ready: function () {},
            });
            $("#reportViewerHtml5IncomeReport").telerik_ReportViewer({
              serviceUrl: "../../api/reports/",
              templateUrl:
                "../../ReportViewer/templates/telerikReportViewerTemplate-8.2.14.1027.html",
              viewMode: telerikReportViewer.ViewModes.PRINT_PREVIEW,
              scaleMode: telerikReportViewer.ScaleModes.SPECIFIC,
              scale: 1.0,
              ready: function () {},
            });
            $("#reportViewerHtml5TestWiseReport").telerik_ReportViewer({
              serviceUrl: "../../api/reports/",
              templateUrl:
                "../../ReportViewer/templates/telerikReportViewerTemplate-8.2.14.1027.html",
              viewMode: telerikReportViewer.ViewModes.PRINT_PREVIEW,
              scaleMode: telerikReportViewer.ScaleModes.SPECIFIC,
              scale: 1.0,
              ready: function () {},
            });
          </script>

          <script type="text/javascript">
            $(document).ready(function () {
              var applicationid;
              $("ul.nav li.dropdown").hover(
                function () {
                  $(this)
                    .find(".dropdown-menu")
                    .stop(true, true)
                    .delay(100)
                    .fadeIn(400);
                },
                function () {
                  $(this)
                    .find(".dropdown-menu")
                    .stop(true, true)
                    .delay(100)
                    .fadeOut(400);
                }
              );

              $(".custom-dropdown-head").on("click", function (e) {
                $(".custom-dropdown ul").hide();
                $(this).next("ul").toggle();
                e.stopPropagation();
              });
              $(document).click(function () {
                $(".custom-dropdown ul").hide();
              });
              //  $(".k-datepicker").find('span').find('input').attr("readonly", "readonly");
              // $(".k-datetimepicker").find('input').attr("readonly", "readonly");
              $("#datetimepicker").kendoDateTimePicker({
                format: "dd/MM/yyyy hh:mm tt",
                value: new Date("06/15/2024 17:05:49"), // new Date()
              });
            });
            var init = [];
            init.push(function () {
              $("#StaffAssign").select2({
                allowClear: true,
                placeholder: "Select Staff",
              });
            });

            init.push(function () {
              $("body").on("click", ".header-1, .header-2", function () {
                $("html,body").animate(
                  {
                    scrollTop:
                      $($(this).attr("href")).offset().top -
                      $("#main-navbar").outerHeight(),
                  },
                  1000
                );
                return false;
              });
            });

            window.PixelAdmin.start(init);

            //var IncomeApp = angular.module("IncomeApp", ['ngAnimate', 'ui.bootstrap', 'kendo.directives', 'ngSanitize', 'ui.select']);
            var IncomeApp = angular.module("IncomeApp", [
              "ngSanitize",
              "ui.select",
              "ngAnimate",
              "kendo.directives",
            ]);
            var secretEmptyKey = "[$empty$]";
            IncomeApp.service("IncomeAppservice", function ($http) {
              this.InsertIncomeExpenses = function (
                CurrentDate,
                Description,
                AssignStaffId,
                GivenToStaff,
                Amount,
                Refund
              ) {
                return $http
                  .post(
                    "/LaboratoryModule/LISService.asmx/InsertIncomeExpenses",
                    {
                      CurrentDate: CurrentDate,
                      Description: Description,
                      AssignStaffId: AssignStaffId,
                      GivenToStaff: GivenToStaff,
                      Amount: Amount,
                      Refund: Refund,
                    }
                  )
                  .then(function (result) {
                    return true;
                  });
              };
              this.UpdateIncomeExpenses = function (
                ExpenseId,
                CurrentDate,
                Description,
                AssignStaffId,
                GivenToStaff,
                Amount,
                Refund
              ) {
                //
                return $http
                  .post(
                    "/LaboratoryModule/LISService.asmx/UpdateIncomeExpenses",
                    {
                      ExpenseId: ExpenseId,
                      CurrentDate: CurrentDate,
                      Description: Description,
                      AssignStaffId: AssignStaffId,
                      GivenToStaff: GivenToStaff,
                      Amount: Amount,
                      Refund: Refund,
                    }
                  )
                  .then(function (result) {
                    return true;
                  });
              };
              this.GetStaffAssign = function (RoleName) {
                return $http
                  .post("/StaffModule/StaffService.asmx/SearchDoctorInApp", {
                    RoleName: RoleName,
                  })
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetStaffAssign1 = function (RoleName) {
                return $http
                  .post("/StaffModule/StaffService.asmx/SearchDoctorInApp", {
                    RoleName: RoleName,
                  })
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetAllIncomeExpenses = function (StartDate, EndDate) {
                return $http
                  .post(
                    "/LaboratoryModule/LISService.asmx/GetAllIncomeExpenses",
                    { StartDate: StartDate, EndDate: EndDate }
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetStaffId = function (StaffName) {
                return $http
                  .post("/StaffModule/StaffService.asmx/AddNewStaff", {
                    StaffName: StaffName,
                  })
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetTotalBusinessAmt = function (
                FromDate,
                ToDate,
                LocationId,
                LabId,
                CorporatePanelId,
                Active
              ) {
                //////// ////debugger
                return $http
                  .post(
                    "/BillingModule/BillingService.asmx/GetTotalBusinessAmt",
                    {
                      FromDate: FromDate,
                      ToDate: ToDate,
                      LocationId: LocationId,
                      LabId: LabId,
                      CorporatePanelId:
                        CorporatePanelId == undefined ? null : CorporatePanelId,
                      Active: Active,
                    }
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetStockChartBusinessAmount = function (
                FromDate,
                ToDate,
                LocationId
              ) {
                //////// ////debugger
                return $http
                  .post(
                    "/BillingModule/BillingService.asmx/GetStockChartBusinessAmount",
                    {
                      FromDate: FromDate,
                      ToDate: ToDate,
                      LocationId: LocationId,
                    }
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetALLInsurancePanelDetails = function (
                FromDate,
                ToDate,
                LocationId,
                str,
                PanelId
              ) {
                //////// ////debugger
                return $http
                  .post(
                    "/BillingModule/BillingService.asmx/GetALLInsurancePanelDetails",
                    {
                      FromDate: FromDate,
                      ToDate: ToDate,
                      LocationId: LocationId,
                      str: str,
                      PanelId: PanelId == undefined ? null : PanelId,
                    }
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetAllBranches = function () {
                return $http
                  .post("/CommonMasterModule/UIService.asmx/GetAllBranches", {})
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.createMonthlyRevenueGraph = function (
                FromDate,
                ToDate,
                LocationId
              ) {
                //////// ////debugger
                return $http
                  .post(
                    "/BillingModule/BillingService.asmx/createMonthlyRevenueGraph",
                    {
                      FromDate: FromDate,
                      ToDate: ToDate,
                      LocationId: LocationId,
                    }
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetAllPanelsWithNone = function (BranchId) {
                //////// ////debugger
                return $http
                  .post(
                    "/LaboratoryModule/LISService.asmx/GetAllPanelsWithNone",
                    { BranchId: BranchId }
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetAllCorporatePanels = function (BranchId) {
                //////// ////debugger
                return $http
                  .post(
                    "/LaboratoryModule/LISService.asmx/GetAllCorporatePanels",
                    {}
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
              this.GetTestWiseRevenue = function (
                FromDate,
                ToDate,
                ApplicationId,
                LocationId,
                Ids
              ) {
                ////// ////debugger
                return $http
                  .post(
                    "/BillingModule/BillingService.asmx/GetTestWiseRevenue",
                    {
                      FromDate: FromDate,
                      ToDate: ToDate,
                      ApplicationId: ApplicationId,
                      LocationId: LocationId,
                      Ids: Ids,
                    }
                  )
                  .then(function (result) {
                    return JSON.parse(result.data.d).Table;
                  });
              };
            });
            IncomeApp.controller(
              "IncomeAppcontroller",
              function ($scope, $compile, $timeout, IncomeAppservice) {
                var appid = "60bd7a49-66c4-432d-a477-311ff96495d9";
                applicationid = appid;
                console.log(appid);
                var _ = $scope;
                var StartDate = "";
                var Month;
                var EndDate = "";
                LocationId = "";
                // ////debugger
                if (
                  navigator.userAgent.toLowerCase().indexOf("safari") > 90 ||
                  navigator.userAgent.toLowerCase().indexOf("firefox") > 60
                ) {
                  var currentdate = new Date();
                } else {
                  var currentdate = new Date("06/15/2024 17:05:49"); // new Date;
                }
                var newdate = currentdate.format("dd/MM/yyyy - dd/MM/yyyy");
                var newdate3 = currentdate.format("dd/MM/yyyy" + " 23:59:59");
                _.SelectedBranchId = "";
                var newdate1 = currentdate.format("dd/MM/yyyy" + " 00:00:00");
                $('input[name="daterange"]').val(newdate);
                $("#ShowMsg").hide();
                $("#divshowexpenses").hide();
                _.AllField = false;
                _.showchart = true;
                _.showgrid = true;
                _.divbuttonSave = false;
                _.divbuttonReport = false;
                $('input[name="daterange"]').daterangepicker();
                $("#datetimepicker").kendoDateTimePicker();
                $("#MainContantDiv").validationEngine("attach");
                $("#gridDrRefferal").hide();
                $("#gridOutSource").hide();
                $("#testwiserevenue").hide();
                $("#divradio").hide();

                _.tbranch = {};
                _.tbranch.selected = {
                  Name: "All",
                  LocationId: "00000000-0000-0000-0000-000000000000",
                };

                _.tclient = {};
                _.tclient.selected = {
                  Name: "None",
                  PackageId: "00000000-0000-0000-0000-000000000000",
                };

                _.tclientCorp = {};
                _.tclientCorp.selected = {
                  CorporatePanelName: "None",
                  CorporatePanelId: "00000000-0000-0000-0000-000000000000",
                };
                //////// ////debugger
                _.clear = function () {
                  $("#CreateCheck").prop("checked", false);
                  // $('input[name="daterange"]').val(newdate);
                  $("#btnsave").val("Save");
                  $("#datetimepicker").kendoDateTimePicker({
                    value: new Date("06/15/2024 17:05:49"),
                  });
                  _.Description_Type = "";
                  _.Amount = "";
                  _.Refund = "";
                  _.StaffGivento = "";
                  $("#StaffAssign").val("");
                  $("#s2id_StaffAssign").find(".select2-chosen").text("");
                  //$("#chart").hide();
                  $("#example").hide();
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#btnincomereport").css("display", "none");
                  $("#reportViewerHtml5TestWiseReport").hide();
                  $("#btntestwisereport").css("display", "none");
                  _.AllField = false;
                  _.divbuttonSave = false;
                  //_.divbuttonReport = false;

                  // LocationId = _.SelectedBranchId == '' ? null : _.SelectedBranchId;
                  //  _.Incomegrid(newdate1, newdate3, LocationId, null, null, "");
                  // _.fillgrid(newdate1, newdate3); $("#divshowexpenses").hide();
                };
                //function showTestWiseRevenue() {
                $("#btntestwisereport").on("click", function () {
                  debugger;
                  $("#reportViewerHtml5TestWiseReport").show();
                  $(window).scrollTop(900);
                  //assigning data source to report
                  var viewer = $("#reportViewerHtml5TestWiseReport").data(
                    "telerik_ReportViewer"
                  );
                  //alert($('input[name="daterange"]').val());
                  var val;
                  val = $('input[name="daterange"]').val();
                  var date = [];
                  date = val.split("-");
                  $("#hdnFromDate").val(date[0]);
                  $("#hdnToDate").val(date[1]);
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  var Ids = null;
                  //////// ////debugger
                  if (
                    $("input:radio[name=optTestWise]:checked").val() ==
                    "Insurance"
                  ) {
                    Ids = _.tclient.selected.PackageId;
                  } else if (
                    $("input:radio[name=optTestWise]:checked").val() ==
                    "Coperate"
                  ) {
                    Ids = _.tclientCorp.selected.CorporatePanelId;
                  } else if (
                    $("input:radio[name=optTestWise]:checked").val() == "none"
                  ) {
                    Ids = null;
                  }
                  //alert($("#hdnFromDate").val());
                  viewer.reportSource({
                    // report: "MedChowk.Master.TelerikIncomeExpensesPage,MedChowk",
                    report: "MedChowk.Reports.TestWiseRevenue,MedChowk",
                    parameters: {
                      fromDate: $("#hdnFromDate").val(),
                      toDate: $("#hdnToDate").val(),
                      ApplicationId: appid,
                      LocationId: LocationId,
                      Ids: Ids,
                    },
                  });
                });
                $(".btnClearBox").on("click", function () {
                  debugger;

                  $("#CreateCheck").prop("checked", false);
                  $('input[name="daterange"]').val(newdate);
                  $("#btnsave").val("Save");
                  $("#datetimepicker").kendoDateTimePicker({
                    value: new Date(),
                  });
                  _.Description_Type = "";
                  _.Amount = "";
                  _.Refund = "";
                  _.StaffGivento = "";
                  $("#StaffAssign").val("");
                  $("#s2id_StaffAssign").find(".select2-chosen").text("");
                  $("#chart").hide();
                  $("#example").hide();
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#btnincomereport").css("display", "none");
                  $("#reportViewerHtml5TestWiseReport").hide();
                  $("#btntestwisereport").css("display", "none");
                  $("#spanRevenue").text("-");
                  $("#divshowrevenue").hide();
                  $("#spanRevenue").text("-");
                  $("#spanExpenses").text("-");
                  $("#spanCorporate").text("-");
                  $("#spanPanelDoc").text("-");
                  $("#spanInsurance").text("-");
                  $("#spanOutsource").text("-");
                  $("#spanIncome").text("-");
                  _.AllField = false;
                  _.divbuttonSave = false;
                  _.divbuttonReport = false;
                  $("#divradio").hide();

                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  // _.Incomegrid(new Date, new Date, LocationId, null, null, "", null, '60bd7a49-66c4-432d-a477-311ff96495d9');
                  $("#chart").hide();
                  $("#stockchart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").hide();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();

                  $scope.$apply();
                  // _.fillgrid(new Date, new Date);
                });
                $("#imgListBoxStaff").on("click", function () {
                  $("#StaffGivento").toggle(150).focus();
                });
                _.Staffrole = "Doctor";
                IncomeAppservice.GetStaffAssign(_.Staffrole).then(function (
                  result
                ) {
                  _.AllStaffDetailes = result;
                });
                IncomeAppservice.GetAllBranches().then(function (result) {
                  if (result.length > 0) {
                    //////// ////debugger
                    _.VersionList = result;
                  }
                });

                _.Staffid = "";
                _.StaffSearch = function ($item, $model, $label) {
                  _.Staffid = "";
                  _.Staffid = $item.StaffId;
                  _.NameForCheck = $model;
                  $("#txtStaffGivento").attr("value", "");
                };

                _.branchChange = function (item) {
                  debugger;
                  //asha
                  if (item != null) {
                    _.SelectedBranchId = item.LocationId;
                  } else {
                    _.SelectedBranchId = "";
                  }
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  _.Incomegrid(
                    StartDate,
                    EndDate,
                    LocationId,
                    null,
                    null,
                    "",
                    null,
                    "60bd7a49-66c4-432d-a477-311ff96495d9"
                  );

                  $("#chart").hide();
                  $("#stockchart").show();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").show();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  // $("#grid").data("kendoGrid").dataSource.read();
                };
                _.GivenToblur = function (e, a) {
                  ////////// ////debugger
                  _.Staffid = "";
                  $("#txtStaffGivento").attr("value", "");
                  for (var i = 0; i < _.AllGivenStaffDetailes.length; i++) {
                    if (
                      _.AllGivenStaffDetailes[i].Name.trim() ==
                      e.target.value.trim()
                    ) {
                      _.Staffid = _.AllGivenStaffDetailes[i].StaffId;
                      break;
                    }
                  }
                };
                _.GivenToKeyup = function () {
                  ////////// ////debugger
                  if (_.NameForCheck != undefined) {
                    if (_.NameForCheck.trim() != _.StaffGivento) {
                      $("#txtStaffGivento").attr("value", "");
                      _.Staffid = "";
                    }
                  }
                };
                _.GetAllGivenStaffList = function () {
                  _.Staffrole = "Delivery & Collection";
                  IncomeAppservice.GetStaffAssign1(_.Staffrole).then(function (
                    result
                  ) {
                    _.AllGivenStaffDetailes = result;
                  });
                };
                _.GetAllGivenStaffList();
                if (
                  navigator.userAgent.toLowerCase().indexOf("safari") > 90 ||
                  navigator.userAgent.toLowerCase().indexOf("firefox") > 60
                ) {
                  var today1 = new Date();
                } else {
                  var today1 = new Date("06/15/2024 17:05:49");
                }
                // ////debugger
                $('input[name="daterange"]').daterangepicker(
                  {
                    ranges: {
                      Today: [moment(today1), moment(today1)], //[moment(), moment()],
                      Yesterday: [
                        moment(today1).subtract("days", 1),
                        moment(today1).subtract("days", 1),
                      ],
                      "Last 7 Days": [
                        moment(today1).subtract("days", 6),
                        moment(today1),
                      ],
                      "Last 30 Days": [
                        moment(today1).subtract("days", 29),
                        moment(today1),
                      ],
                      "This Month": [
                        moment(today1).startOf("month"),
                        moment(today1).endOf("month"),
                      ],
                      "Last Month": [
                        moment(today1).subtract("month", 1).startOf("month"),
                        moment(today1).subtract("month", 1).endOf("month"),
                      ],
                    },
                    format: "DD/MM/YYYY",
                    startDate: new Date(), //new Date(new Date(Date.now()).setHours(0, 0, 0) - (30 * 1000 * 60 * 60 * 24)),
                    endDate: new Date(),
                  },
                  function (start, end) {
                    //  //// ////debugger
                    _.showRanges();
                    //  alert('test');
                  }
                );

                ////// ////debugger
                _.showRanges = function () {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  $("#stockchart").show();
                  _.Incomegrid(
                    StartDate,
                    EndDate,
                    LocationId,
                    null,
                    null,
                    "",
                    null,
                    "60bd7a49-66c4-432d-a477-311ff96495d9"
                  );
                  _.divbuttonReport = false;
                  $("#divshowrevenue").hide();
                };

                //$(".ranges ul li").click(function (e) {
                //    //////// ////debugger
                //    if (e.currentTarget.innerHTML != "Custom Range") {
                //        //////// ////debugger
                //        StartDate = $('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                //        EndDate = $('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                //        LocationId = _.SelectedBranchId == '' ? null : _.SelectedBranchId; $("#stockchart").show();
                //        _.Incomegrid(StartDate, EndDate, LocationId, null, null, "");
                //        _.divbuttonReport = false; $("#divshowrevenue").hide();
                //    }
                //});

                $(".applyBtn").click(function (e) {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  _.Incomegrid(
                    StartDate,
                    EndDate,
                    LocationId,
                    null,
                    null,
                    "",
                    null,
                    "60bd7a49-66c4-432d-a477-311ff96495d9"
                  );
                  _.divbuttonReport = false;
                  $("#divshowrevenue").hide();
                });
                $("#divExpenses").click(function (e) {
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  _.fillgrid(StartDate, EndDate);
                  $("#divshowexpenses").show();
                  $("#stockchart").hide();
                  $("#chart").show();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#grdInsurance").hide();
                  $("#incomegrid").hide();
                  $("#rowSelection").show();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  $("#divshowrevenue").hide();
                });
                $("#divRevenue").click(function (e) {
                  debugger;
                  _.tclientCorp = {};
                  _.tclient = {};
                  var Ids = null;
                  $("input:radio[name='optTestWise']")
                    .filter("[value='none']")
                    .prop("checked", true);
                  $("#divshowrevenue").show();
                  $("#testwiserevenue").show();
                  $("#btntestwisereport").css("display", "block");
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  $("#dsCorporate").css("display", "none");
                  $("#dsInsurance").css("display", "none");
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  _.GetTestWiseRevenue(
                    StartDate,
                    EndDate,
                    "60bd7a49-66c4-432d-a477-311ff96495d9",
                    LocationId,
                    Ids
                  );
                  //  $("#testwiserevenue").show();
                  $("#divshowexpenses").hide();
                  $("#stockchart").hide();
                  $("#chart").hide();
                  $("#grdInsurance").hide();
                  $("#incomegrid").hide();
                  $("#rowSelection").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                });

                $("input:radio[name=optTestWise]").on("change", function () {
                  debugger;
                  if (
                    $("input:radio[name=optTestWise]:checked").val() ==
                    "Insurance"
                  ) {
                    _.tclientCorp = {};
                    LocationId =
                      _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                    _.InsurancePanel(LocationId);
                    $("#dsInsurance").css("display", "inline-block");
                    $("#dsCorporate").css("display", "none");
                  } else if (
                    $("input:radio[name=optTestWise]:checked").val() ==
                    "Coperate"
                  ) {
                    _.tclient = {};
                    _.GetAllCorporate();
                    $("#dsCorporate").css("display", "inline-block");
                    $("#dsInsurance").css("display", "none");
                  } else if (
                    $("input:radio[name=optTestWise]:checked").val() == "none"
                  ) {
                    _.tclient = {};
                    _.tclientCorp = {};
                    $("#dsCorporate").css("display", "none");
                    $("#dsInsurance").css("display", "none");
                  }
                });

                _.loadValues = function () {
                  ////// ////debugger
                  _.tclient.selected;
                  _.tclientCorp.selected;
                  var Ids = null;
                  debugger;
                  if (
                    $("input:radio[name=optTestWise]:checked").val() ==
                    "Insurance"
                  ) {
                    Ids = _.tclient.selected.PackageId;
                  } else if (
                    $("input:radio[name=optTestWise]:checked").val() ==
                    "Coperate"
                  ) {
                    Ids = _.tclientCorp.selected.CorporatePanelId;
                  } else if (
                    $("input:radio[name=optTestWise]:checked").val() == "none"
                  ) {
                    Ids = null;
                  }

                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  $("#chart").hide();
                  $("#stockchart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").hide();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").show();
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                  $("#btntestwisereport").css("display", "block");
                  _.GetTestWiseRevenue(
                    StartDate,
                    EndDate,
                    "60bd7a49-66c4-432d-a477-311ff96495d9",
                    LocationId,
                    Ids
                  );
                };

                $("#divIncome").click(function (e) {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  $("#divradio").show();
                  _.IncomeGrid1(StartDate, EndDate, LocationId);
                  $("#chart").hide();
                  $("#stockchart").show();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").show();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  $("#grid").data("kendoGrid").dataSource.read();
                  //  $('#stockchart').data('kendoChart').dataSource.read();
                  $("#btnincomereport").css("display", "block");
                  $("#btntestwisereport").css("display", "none");
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                  $("#divshowrevenue").hide();
                });
                $("#divInsurance").click(function (e) {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  _.InsurancePanelGrid(
                    StartDate,
                    EndDate,
                    LocationId,
                    "",
                    null
                  );
                  $("#divradio").hide();
                  $("#chart").hide();
                  $("#stockchart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").hide();
                  $("#grdInsurance").show();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  $("#grdcp").hide();
                  $("#grdInsurance").data("kendoGrid").dataSource.read();
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#divshowrevenue").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                });
                $("#divCorporate").click(function (e) {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  $("#divradio").hide();
                  _.CorporatePanelGrid(
                    StartDate,
                    EndDate,
                    LocationId,
                    "",
                    null
                  );
                  $("#chart").hide();
                  $("#stockchart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").hide();
                  $("#grdInsurance").hide();
                  $("#grdcp").show();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  $("#grdcp").data("kendoGrid").dataSource.read();
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#divshowrevenue").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                });
                $("#divPanelDoctor").click(function (e) {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  $("#divradio").hide();
                  _.RefferalDoctor(StartDate, EndDate, LocationId, "");
                  $("#chart").hide();
                  $("#stockchart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").hide();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").show();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  $("#gridDrRefferal").data("kendoGrid").dataSource.read();
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#divshowrevenue").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                });
                $("#divOutSource").click(function (e) {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  $("#divradio").hide();
                  _.OutsourceGrid(
                    StartDate,
                    EndDate,
                    LocationId,
                    null,
                    "",
                    "1"
                  );
                  $("#chart").hide();
                  $("#stockchart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").hide();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").show();
                  $("#gridOutSource").show();
                  $("#testwiserevenue").hide();
                  $("#gridOutSource").data("kendoGrid").dataSource.read();
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#reportViewerHtml5IncomeReport").hide();
                  $("#divshowrevenue").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                });
                $("#rdbDailybasis").change(function () {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  //_.Incomegrid(StartDate, EndDate, LocationId, null, null, "");
                  _.createDailyRevenueGraph(StartDate, EndDate, LocationId);
                  $("#chart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").show();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  $("#stockchart").show(); //$('#stockchart').data('kendoChart').dataSource.read();
                  $("#btnincomereport").css("display", "block");
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#divshowrevenue").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                  $("#btntestwisereport").css("display", "none");
                });
                $("#rdbMonthlybasis").change(function () {
                  debugger;
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  //_.Incomegrid(StartDate, EndDate, LocationId, null, null, "");
                  _.createMonthlyRevenueGraph(StartDate, EndDate, LocationId);
                  $("#chart").hide();
                  $("#divshowexpenses").hide();
                  $("#rowSelection").hide();
                  $("#incomegrid").show();
                  $("#grdInsurance").hide();
                  $("#grdcp").hide();
                  $("#gridDrRefferal").hide();
                  $("#gridOutSource").hide();
                  $("#testwiserevenue").hide();
                  $("#stockchart").show(); //$('#stockchart').data('kendoChart').dataSource.read();
                  $("#btnincomereport").css("display", "block");
                  $("#reportViewerHtml5IncomExpensesReport").hide();
                  $("#divshowrevenue").hide();
                  $("#reportViewerHtml5TestWiseReport").hide();
                  $("#btntestwisereport").css("display", "none");
                });

                $("#btnlastmonth").click(function () {
                  debugger;
                  Month = 1;
                  $("#stockchart").hide();
                  if (
                    navigator.userAgent.toLowerCase().indexOf("safari") > 90 ||
                    navigator.userAgent.toLowerCase().indexOf("firefox") > 60
                  ) {
                    var today = new Date();
                  } else {
                    var today = new Date("06/15/2024 17:05:49"); // new Date;
                  }
                  var date = new Date(today);
                  date.setMonth(date.getMonth() - Month);
                  var NewDate = date;
                  var mon = today.getMonth() + 1;
                  $('input[name="daterange"]').val(
                    NewDate.format(
                      "dd/MM/yyyy - " +
                        today.getDate() +
                        "/" +
                        mon +
                        "/" +
                        today.getFullYear()
                    )
                  );

                  //$('input[name="daterange"]').daterangepicker({
                  //    ranges: {
                  //        'Today': [moment(), moment()],
                  //        'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
                  //        'Last 7 Days': [moment().subtract('days', 6), moment()],
                  //        'Last 30 Days': [moment().subtract('days', 29), moment()],
                  //        'This Month': [moment().startOf('month'), moment().endOf('month')],
                  //        'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')]
                  //    },
                  //    format: 'DD/MM/YYYY',
                  //    startDate: NewDate,//new Date(new Date(Date.now()).setHours(0, 0, 0) - (30 * 1000 * 60 * 60 * 24)),
                  //    endDate: today
                  //});
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  var chkd = $("#rdbDailybasis").prop("checked");
                  var chkm = $("#rdbMonthlybasis").prop("checked");
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  if (chkd === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    $("#stockchart").show(); //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                  if (chkm === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    $("#stockchart").show(); //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                });
                $("#btnlast3month").click(function () {
                  debugger;
                  Month = 3;
                  $("#stockchart").hide();
                  if (
                    navigator.userAgent.toLowerCase().indexOf("safari") > 90 ||
                    navigator.userAgent.toLowerCase().indexOf("firefox") > 60
                  ) {
                    var today = new Date();
                  } else {
                    var today = new Date("06/15/2024 17:05:49"); // new Date;
                  }
                  var date = new Date(today);
                  date.setMonth(date.getMonth() - Month);
                  var NewDate = date;
                  var mon = today.getMonth() + 1;
                  $('input[name="daterange"]').val(
                    NewDate.format(
                      "dd/MM/yyyy - " +
                        today.getDate() +
                        "/" +
                        mon +
                        "/" +
                        today.getFullYear()
                    )
                  );

                  //$('input[name="daterange"]').daterangepicker({
                  //    ranges: {
                  //        'Today': [moment(), moment()],
                  //        'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
                  //        'Last 7 Days': [moment().subtract('days', 6), moment()],
                  //        'Last 30 Days': [moment().subtract('days', 29), moment()],
                  //        'This Month': [moment().startOf('month'), moment().endOf('month')],
                  //        'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')]
                  //    },
                  //    format: 'DD/MM/YYYY',
                  //    startDate: NewDate,//new Date(new Date(Date.now()).setHours(0, 0, 0) - (30 * 1000 * 60 * 60 * 24)),
                  //    endDate: today
                  //});
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  var chkd = $("#rdbDailybasis").prop("checked");
                  var chkm = $("#rdbMonthlybasis").prop("checked");
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  if (chkd === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#stockchart").show();
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                  if (chkm === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#stockchart").show();
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                });
                $("#btnlast6month").click(function () {
                  debugger;
                  Month = 6;
                  $("#stockchart").hide();
                  if (
                    navigator.userAgent.toLowerCase().indexOf("safari") > 90 ||
                    navigator.userAgent.toLowerCase().indexOf("firefox") > 60
                  ) {
                    var today = new Date();
                  } else {
                    var today = new Date("06/15/2024 17:05:49"); // new Date;
                  }
                  var date = new Date(today);
                  date.setMonth(date.getMonth() - Month);
                  var NewDate = date;
                  var mon = today.getMonth() + 1;
                  $('input[name="daterange"]').val(
                    NewDate.format(
                      "dd/MM/yyyy - " +
                        today.getDate() +
                        "/" +
                        mon +
                        "/" +
                        today.getFullYear()
                    )
                  );

                  //$('input[name="daterange"]').daterangepicker({
                  //    ranges: {
                  //        'Today': [moment(), moment()],
                  //        'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
                  //        'Last 7 Days': [moment().subtract('days', 6), moment()],
                  //        'Last 30 Days': [moment().subtract('days', 29), moment()],
                  //        'This Month': [moment().startOf('month'), moment().endOf('month')],
                  //        'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')]
                  //    },
                  //    format: 'DD/MM/YYYY',
                  //    startDate: NewDate,//new Date(new Date(Date.now()).setHours(0, 0, 0) - (30 * 1000 * 60 * 60 * 24)),
                  //    endDate: today
                  //});
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  var chkd = $("#rdbDailybasis").prop("checked");
                  var chkm = $("#rdbMonthlybasis").prop("checked");
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  if (chkd === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#stockchart").show();
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                  if (chkm === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#stockchart").show();
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                });
                $("#btnlast12month").click(function () {
                  debugger;
                  Month = 12;
                  $("#stockchart").hide();
                  if (
                    navigator.userAgent.toLowerCase().indexOf("safari") > 90 ||
                    navigator.userAgent.toLowerCase().indexOf("firefox") > 60
                  ) {
                    var today = new Date();
                  } else {
                    var today = new Date("06/15/2024 17:05:49"); // new Date;
                  }
                  var date = new Date(today);
                  date.setMonth(date.getMonth() - Month);
                  var NewDate = date;
                  var mon = today.getMonth() + 1;

                  var dd = NewDate.getDate();
                  var mm = NewDate.getMonth() + 1; //January is 0!

                  var yyyy = NewDate.getFullYear();
                  var d1 = dd + "/" + mm + "/" + yyyy + " " + "00:00:00";

                  $('input[name="daterange"]').val(
                    NewDate.format(
                      "dd/MM/yyyy - " +
                        today.getDate() +
                        "/" +
                        mon +
                        "/" +
                        today.getFullYear()
                    )
                  );

                  //$('input[name="daterange"]').daterangepicker({
                  //    ranges: {
                  //        'Today': [moment(), moment()],
                  //        'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
                  //        'Last 7 Days': [moment().subtract('days', 6), moment()],
                  //        'Last 30 Days': [moment().subtract('days', 29), moment()],
                  //        'This Month': [moment().startOf('month'), moment().endOf('month')],
                  //        'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')]
                  //    },
                  //    format: 'DD/MM/YYYY',
                  //    startDate: d1,//new Date(new Date(Date.now()).setHours(0, 0, 0) - (30 * 1000 * 60 * 60 * 24)),
                  //    endDate: today
                  //});
                  LocationId =
                    _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                  var chkd = $("#rdbDailybasis").prop("checked");
                  var chkm = $("#rdbMonthlybasis").prop("checked");
                  StartDate =
                    $('input[name="daterange"]').val().split(" - ")[0] +
                    " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                  EndDate =
                    $('input[name="daterange"]').val().split(" - ")[1] +
                    " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                  if (chkd === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#stockchart").show();
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                  if (chkm === true) {
                    _.Incomegrid(
                      StartDate,
                      EndDate,
                      LocationId,
                      null,
                      null,
                      "",
                      null,
                      "60bd7a49-66c4-432d-a477-311ff96495d9"
                    );
                    $("#chart").hide();
                    $("#divshowexpenses").hide();
                    $("#rowSelection").hide();
                    $("#incomegrid").hide();
                    $("#grdInsurance").hide();
                    $("#grdcp").hide();
                    $("#gridDrRefferal").hide();
                    $("#gridOutSource").hide();
                    $("#testwiserevenue").hide();
                    //$('#stockchart').data('kendoChart').dataSource.read();
                    $("#btnincomereport").css("display", "block");
                    $("#stockchart").show();
                    $("#reportViewerHtml5IncomExpensesReport").hide();
                    $("#divshowrevenue").hide();
                    $("#reportViewerHtml5TestWiseReport").hide();
                    $("#btntestwisereport").css("display", "none");
                  }
                });
                _.InsurancePanel = function (BranchId) {
                  if (BranchId == null)
                    BranchId = "524ccc5a-f88d-4956-974b-cc13516b402e";
                  IncomeAppservice.GetAllPanelsWithNone(BranchId).then(
                    function (result) {
                      if (result.length > 0) {
                        //////// ////debugger
                        _.InsuranceList = result;
                      }
                    }
                  );
                };
                _.GetAllCorporate = function () {
                  IncomeAppservice.GetAllCorporatePanels().then(function (
                    result
                  ) {
                    if (result.length > 0) {
                      //////// ////debugger
                      _.CorporateList = result;
                    }
                  });
                };
                _.createDailyRevenueGraph = function (
                  FromDate,
                  ToDate,
                  LocationId
                ) {
                  IncomeAppservice.GetStockChartBusinessAmount(
                    FromDate,
                    ToDate,
                    LocationId
                  ).then(function (resultstock) {
                    debugger;
                    var len = resultstock.length;
                    var i = 0;
                    //////// ////debugger
                    var maxValue = -1;
                    var Data = [];
                    var Category = [];
                    for (i = 0; i < len; i++) {
                      Data.push(resultstock[i].Amt);
                      Category.push(resultstock[i].Date);
                      maxValue =
                        resultstock[i].Amt > maxValue
                          ? resultstock[i].Amt
                          : maxValue;
                    }
                    if (len > 0) {
                      if (Data.length <= 10) {
                        _.rotate = -30;
                      } else if (Data.length > 10 && Data.length <= 20) {
                        _.rotate = -60;
                      } else if (Data.length > 20) {
                        _.rotate = -90;
                      }
                      $("#stockchart").kendoChart({
                        title: {
                          text: "Income Chart",
                        },
                        legend: {
                          position: "bottom",
                        },
                        series: [
                          {
                            type: "area",
                            data: Data,
                            color: "#73c100",
                            axis: "wind",
                          },
                        ],
                        valueAxes: [
                          {
                            name: "wind",
                            color: "#73c100",
                            min: 100,
                            max: maxValue,
                          },
                        ],
                        categoryAxis: {
                          categories: Category,
                          labels: { rotation: _.rotate },
                          visible: true,
                        },
                        tooltip: {
                          visible: true,
                          format: "{0}",
                          template: "#= category # : #= value #",
                        },
                      });
                    } else {
                      $("#stockchart").hide();
                    }
                    //***********************************Kendo Income Chart End***********************************
                  });
                };
                _.createMonthlyRevenueGraph = function (
                  FromDate,
                  ToDate,
                  LocationId
                ) {
                  IncomeAppservice.createMonthlyRevenueGraph(
                    FromDate,
                    ToDate,
                    LocationId
                  ).then(function (resultstockMon) {
                    debugger;
                    var len = resultstockMon.length;
                    var i = 0;
                    //////// ////debugger
                    var maxValue = -1;
                    var Data = [];
                    var Category = [];
                    for (i = 0; i < len; i++) {
                      Data.push(resultstockMon[i].Amt);
                      Category.push(resultstockMon[i].NewMonths);
                      maxValue =
                        resultstockMon[i].Amt > maxValue
                          ? resultstockMon[i].Amt
                          : maxValue;
                    }
                    if (len > 0) {
                      if (Data.length <= 10) {
                        _.rotate = -30;
                      } else if (Data.length > 10 && Data.length <= 20) {
                        _.rotate = -60;
                      } else if (Data.length > 20) {
                        _.rotate = -90;
                      }
                      $("#stockchart").kendoChart({
                        title: {
                          text: "Income Chart",
                        },
                        legend: {
                          position: "bottom",
                        },
                        series: [
                          {
                            type: "area",
                            data: Data,
                            color: "#73c100",
                            axis: "wind",
                          },
                        ],
                        valueAxes: [
                          {
                            name: "wind",
                            color: "#73c100",
                            min: 100,
                            max: maxValue,
                          },
                        ],
                        categoryAxis: {
                          categories: Category,
                          labels: { rotation: _.rotate },
                          visible: true,
                        },
                        tooltip: {
                          visible: true,
                          format: "{0}",
                          template: "#= category # : #= value #",
                        },
                      });
                    } else {
                      $("#stockchart").hide();
                    }
                    //***********************************Kendo Income Chart End***********************************
                  });
                };
                _.IncomeGrid1 = function (FromDate, ToDate, LocationId) {
                  //***********************************Kendo Income Chart Start*********************************
                  debugger;
                  $("#loading").hide();
                  $("#grid").kendoGrid({
                    dataSource: {
                      transport: {
                        read: function (options) {
                          // make AJAX request to the remote service
                          // ////////////// ////debugger
                          $.ajax({
                            url: "/BillingModule/BillingService.asmx/IncomeReport",
                            type: "POST",
                            dataType: "json",

                            data: JSON.stringify({
                              FromDate: FromDate,
                              ToDate: ToDate,
                            }),
                            contentType: "application/json; charset=utf-8",
                            success: function (result) {
                              ////debugger
                              // notify the DataSource that the operation is complete
                              var result = JSON.parse(result.d).Table;
                              for (var i = 0; i < result.length; i++) {
                                result[i]._Date = kendo.parseDate(
                                  result[i].CurrentDate,
                                  "dd-MM-yyyy"
                                );
                              }
                              if (result.length > 0) $("#ShowMsg").hide();
                              options.success(result);
                              //  $("#grid").data("kendoGrid").refresh();
                            },
                            error: function (error) {
                              // ////////////// ////debugger
                            },
                          });
                        },
                      },
                      aggregate: [
                        { field: "TotalAmount", aggregate: "sum" },
                        { field: "Discount", aggregate: "sum" },
                        { field: "NetAmount", aggregate: "sum" },
                        { field: "InitialAmount", aggregate: "sum" },
                        { field: "Balance", aggregate: "sum" },
                        { field: "Refund", aggregate: "sum" },
                        // { field: "Name", aggregate: "count" },
                      ],
                      pageSize: 50,
                      page: 1,
                    },
                    sortable: {
                      mode: "single",
                      allowUnsort: false,
                    },
                    height: 300,
                    selectable: "row",
                    dataBound: function (args) {
                      //////////////// ////debugger
                    },
                    pageable: true,
                    resizable: true,
                    navigatable: true,
                    detailExpand: function () {
                      //this.virtualScrollable.refresh();
                    },
                    filterable: {
                      extra: false,
                      operators: {
                        string: {
                          startswith: "Starts with",
                          eq: "Is equal to",
                          neq: "Is not equal to",
                        },
                      },
                    },
                    columns: [
                      {
                        title: "Date",
                        field: "CurrentDate",
                        width: "100px",
                        filterable: false,
                      },
                      {
                        title: "Total",
                        field: "TotalAmount",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['TotalAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.TotalAmount == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.TotalAmount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Discount",
                        field: "Discount",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['Discount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.Discount == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.Discount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Net Amount",
                        field: "NetAmount",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['NetAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.NetAmount == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.NetAmount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Initial Amount",
                        field: "InitialAmount",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['InitialAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.InitialAmount == null)
                            return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.InitialAmount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Bal",
                        field: "Balance",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['Balance'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.Bal == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" + e.Bal.toLocaleString("en") + "</span>"
                            );
                        },
                      },
                      {
                        title: "Refund",
                        field: "Refund",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['Refund'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.Refund == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.Refund.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                    ],
                  });

                  if ($("#rdbMonthlybasis").prop("checked") === true) {
                    IncomeAppservice.createMonthlyRevenueGraph(
                      FromDate,
                      ToDate,
                      LocationId
                    ).then(function (resultstockMon) {
                      debugger;
                      var len = resultstockMon.length;
                      var i = 0;
                      //////// ////debugger
                      var maxValue = -1;
                      var Data = [];
                      var Category = [];
                      for (i = 0; i < len; i++) {
                        Data.push(resultstockMon[i].Amt);
                        Category.push(resultstockMon[i].NewMonths);
                        maxValue =
                          resultstockMon[i].Amt > maxValue
                            ? resultstockMon[i].Amt
                            : maxValue;
                      }
                      if (len > 0) {
                        if (Data.length <= 10) {
                          _.rotate = -30;
                        } else if (Data.length > 10 && Data.length <= 20) {
                          _.rotate = -60;
                        } else if (Data.length > 20) {
                          _.rotate = -90;
                        }
                        $("#stockchart").kendoChart({
                          title: {
                            text: "Income Chart",
                          },
                          legend: {
                            position: "bottom",
                          },
                          series: [
                            {
                              type: "area",
                              data: Data,
                              color: "#73c100",
                              axis: "wind",
                            },
                          ],
                          valueAxes: [
                            {
                              name: "wind",
                              color: "#73c100",
                              min: 100,
                              max: maxValue,
                            },
                          ],
                          categoryAxis: {
                            categories: Category,
                            labels: { rotation: _.rotate },
                            visible: true,
                          },
                          tooltip: {
                            visible: true,
                            format: "{0}",
                            template: "#= category # : #= value #",
                          },
                        });
                      } else {
                        $("#stockchart").hide();
                      }
                      //***********************************Kendo Income Chart End***********************************
                    });
                  } else {
                    IncomeAppservice.GetStockChartBusinessAmount(
                      FromDate,
                      ToDate,
                      LocationId
                    ).then(function (resultstock) {
                      debugger;
                      var len = resultstock.length;
                      var i = 0;
                      //////// ////debugger
                      var maxValue = -1;
                      var Data = [];
                      var Category = [];
                      for (i = 0; i < len; i++) {
                        Data.push(resultstock[i].Amt);
                        Category.push(resultstock[i].Date);
                        maxValue =
                          resultstock[i].Amt > maxValue
                            ? resultstock[i].Amt
                            : maxValue;
                      }
                      if (len > 0) {
                        if (Data.length <= 10) {
                          _.rotate = -30;
                        } else if (Data.length > 10 && Data.length <= 20) {
                          _.rotate = -60;
                        } else if (Data.length > 20) {
                          _.rotate = -90;
                        }
                        $("#stockchart").kendoChart({
                          title: {
                            text: "Income Chart",
                          },
                          legend: {
                            position: "bottom",
                          },
                          series: [
                            {
                              type: "area",
                              data: Data,
                              color: "#73c100",
                              axis: "wind",
                            },
                          ],
                          valueAxes: [
                            {
                              name: "wind",
                              color: "#73c100",
                              min: 100,
                              max: maxValue,
                            },
                          ],
                          categoryAxis: {
                            categories: Category,
                            labels: { rotation: _.rotate },
                            visible: true,
                          },
                          tooltip: {
                            visible: true,
                            format: "{0}",
                            template: "#= category # : #= value #",
                          },
                        });
                      } else {
                        $("#stockchart").hide();
                      }
                      //***********************************Kendo Income Chart End***********************************
                    });
                  }
                };
                _.ShowMainDiv = function () {
                  debugger;
                  $("#btnsave").val("Save");
                  $("#datetimepicker").kendoDateTimePicker({
                    value: new Date("06/15/2024 17:05:49"),
                  });
                  _.Description_Type = "";
                  _.Amount = "";
                  _.Refund = "";
                  _.StaffGivento = "";
                  $("#StaffAssign").val("");
                  $("#s2id_StaffAssign").find(".select2-chosen").text("");
                  _.AllField = true;
                  _.divbuttonSave = true;
                  $("#ShowMsg").hide();
                };

                _.GetTestWiseRevenue = function (
                  FromDate,
                  ToDate,
                  ApplicationId,
                  LocationId,
                  Ids
                ) {
                  debugger;
                  // IncomeAppservice.GetTestWiseRevenue(FromDate, ToDate, LocationId, Ids).then(function (result) {
                  //////// ////debugger
                  $("#grdTestWiseRevenue").kendoGrid({
                    dataSource: {
                      transport: {
                        read: function (options) {
                          // make AJAX request to the remote service
                          //////////////// ////debugger
                          $.ajax({
                            url: "/BillingModule/BillingService.asmx/GetTestWiseRevenue",
                            type: "POST",
                            dataType: "json",

                            data: JSON.stringify({
                              FromDate: FromDate,
                              ToDate: ToDate,
                              ApplicationId: ApplicationId,
                              LocationId: LocationId,
                              Ids: Ids,
                            }),

                            contentType: "application/json; charset=utf-8",
                            success: function (result) {
                              //////////////// ////debugger
                              // notify the DataSource that the operation is complete
                              var result = JSON.parse(result.d).Table;
                              options.success(result);
                              $("#grdTestWiseRevenue")
                                .data("kendoGrid")
                                .refresh();
                            },
                            error: function (error) {
                              // ////////////// ////debugger
                            },
                          });
                        },
                      },
                      pageSize: 10,
                      aggregate: [
                        { field: "Revenue", aggregate: "sum" },
                        { field: "MRP", aggregate: "sum" },
                        { field: "CPRT", aggregate: "sum" },
                      ],
                    },
                    sortable: {
                      mode: "single",
                      allowUnsort: false,
                    },
                    pageable: true,
                    height: 300,
                    selectable: "row",
                    dataBound: function (args) {},
                    resizable: true,
                    navigatable: true,
                    detailExpand: function () {
                      //this.virtualScrollable.refresh();
                    },
                    filterable: {
                      extra: false,
                      operators: {
                        string: {
                          startswith: "Starts with",
                          eq: "Is equal to",
                          neq: "Is not equal to",
                        },
                      },
                    },
                    columns: [
                      {
                        field: "SNo",
                        title: "Sr.No.",
                        width: "50px",
                      },
                      {
                        field: "TestName",
                        title: "Test Name",
                        width: "150px",
                      },
                      {
                        field: "Count",
                        title: "Count",
                        width: "50px",
                      },
                      {
                        title: "Revenue",
                        field: "Revenue",
                        width: "80px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['Revenue'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        // filterable: false,
                        template: function (e) {
                          if (e.Revenue == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.Revenue.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "MRP",
                        field: "MRP",
                        width: "80px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['MRP'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        //  filterable: false,
                        template: function (e) {
                          if (e.MRP == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" + e.MRP.toLocaleString("en") + "</span>"
                            );
                        },
                      },
                      {
                        title: "CPRT",
                        field: "CPRT",
                        width: "80px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['CPRT'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        // filterable: false,
                        template: function (e) {
                          if (e.CPRT == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" + e.CPRT.toLocaleString("en") + "</span>"
                            );
                        },
                      },
                      {
                        title: "Profit %",
                        field: "Profit",
                        width: "80px",
                        filterable: false,
                        template: function (e) {
                          if (e.Profit == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.Profit.toFixed(2).toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Avg Realisation Rev/Test",
                        field: "AvgRealisation",
                        width: "150px",
                        filterable: false,
                        template: function (e) {
                          if (e.AvgRealisation == null)
                            return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.AvgRealisation.toFixed(2).toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                    ],
                  });

                  // });
                };
                _.Incomegrid = function (
                  StartDate,
                  EndDate,
                  LocationId,
                  LabId,
                  CorporatePanelId,
                  Active,
                  PanelId,
                  ApplicationId
                ) {
                  debugger;
                  $("#loading").hide();
                  var FromDate = StartDate;
                  var ToDate = EndDate;
                  IncomeAppservice.GetTotalBusinessAmt(
                    FromDate,
                    ToDate,
                    LocationId,
                    LabId,
                    CorporatePanelId,
                    Active
                  ).then(function (result) {
                    //////// ////debugger
                    if (result[1].Total > 0) {
                      $("#spanIncome").text(
                        result[1].Total.toFixed(2).toLocaleString("en")
                      );
                      $("#spanIncome").prepend('<i class="fa fa-rupee"></i>');
                    } else {
                      $("#spanIncome").text("-");
                    }
                    if (result[3].Total > 0) {
                      $("#spanOutsource").text(
                        result[3].Total.toFixed(2).toLocaleString("en")
                      );
                      $("#spanOutsource").prepend(
                        '<i class="fa fa-rupee"></i>'
                      );
                    } else {
                      $("#spanOutsource").text("-");
                    }
                    if (result[0].Total > 0) {
                      $("#spanPanelDoc").text(
                        result[0].Total.toFixed(2).toLocaleString("en")
                      );
                      $("#spanPanelDoc").prepend('<i class="fa fa-rupee"></i>');
                    } else {
                      $("#spanPanelDoc").text("-");
                    }
                    if (result[2].Total > 0) {
                      $("#spanCorporate").text(
                        result[2].Total.toFixed(2).toLocaleString("en")
                      );
                      $("#spanCorporate").prepend(
                        '<i class="fa fa-rupee"></i>'
                      );
                    } else {
                      $("#spanCorporate").text("-");
                    }
                    IncomeAppservice.GetAllIncomeExpenses(
                      StartDate,
                      EndDate
                    ).then(function (resultExpense) {
                      if (resultExpense.length > 0) {
                        var amount = 0.0;
                        var refund = 0.0;
                        for (var i = 0; i < resultExpense.length; i++) {
                          amount += resultExpense[i].Amount;
                          refund += resultExpense[i].Refund;
                        }
                        amount = amount - refund;
                        $("#spanExpenses").text(
                          amount.toFixed(2).toLocaleString("en")
                        );
                        $("#spanExpenses").prepend(
                          '<i class="fa fa-rupee"></i>'
                        );
                      } else {
                        $("#spanExpenses").text("-");
                      }
                    });
                    IncomeAppservice.GetALLInsurancePanelDetails(
                      StartDate,
                      EndDate,
                      LocationId,
                      Active,
                      PanelId
                    ).then(function (resultInsu) {
                      if (resultInsu.length > 0) {
                        var amount = 0.0;
                        for (var i = 0; i < resultInsu.length; i++) {
                          amount += resultInsu[i].PanelAmount;
                        }
                        $("#spanInsurance").text(
                          amount.toFixed(2).toLocaleString("en")
                        );
                        $("#spanInsurance").prepend(
                          '<i class="fa fa-rupee"></i>'
                        );
                      } else {
                        $("#spanInsurance").text("-");
                      }
                    });
                    IncomeAppservice.GetTestWiseRevenue(
                      FromDate,
                      ToDate,
                      ApplicationId,
                      LocationId,
                      PanelId
                    ).then(function (resultTest) {
                      ////// ////debugger
                      if (resultTest.length > 0) {
                        var amount = 0.0;
                        for (var i = 0; i < resultTest.length; i++) {
                          amount += resultTest[i].Revenue;
                        }
                        $("#spanRevenue").text(
                          amount.toFixed(2).toLocaleString("en")
                        );
                        $("#spanRevenue").prepend(
                          '<i class="fa fa-rupee"></i>'
                        );
                      } else {
                        $("#spanRevenue").text("-");
                      }
                    });
                  });
                };
                //********************KendoGrid for OutSource**********************************
                _.OutsourceGrid = function (
                  FromDate,
                  ToDate,
                  LocationId,
                  LabId,
                  str,
                  Active
                ) {
                  debugger;
                  $("#gridOutSource").kendoGrid({
                    dataSource: {
                      transport: {
                        read: function (options) {
                          // make AJAX request to the remote service
                          //////////////// ////debugger
                          $.ajax({
                            url: "/BillingModule/BillingService.asmx/GetAllOutSourceAmtDetails",
                            type: "POST",
                            dataType: "json",

                            data: JSON.stringify({
                              FromDate: FromDate,
                              ToDate: ToDate,
                              LocationId: LocationId,
                              LabId: LabId,
                              str: str,
                              Active: Active,
                            }),

                            contentType: "application/json; charset=utf-8",
                            success: function (result) {
                              //////////////// ////debugger
                              // notify the DataSource that the operation is complete
                              var result = JSON.parse(result.d).Table;
                              for (var i = 0; i < result.length; i++) {
                                result[i]._Date = kendo.parseDate(
                                  result[i].Dt,
                                  "dd-MM-yyyy HH:mm:ss tt"
                                );
                              }
                              if (result.length > 0) $("#ShowMsg").hide();
                              options.success(result);
                              $("#gridOutSource").data("kendoGrid").refresh();
                            },
                            error: function (error) {
                              // ////////////// ////debugger
                            },
                          });
                        },
                      },
                      pageSize: 50,
                      aggregate: [
                        { field: "PaidAmount", aggregate: "sum" },
                        { field: "LaboratoryRate", aggregate: "sum" },
                        { field: "LabNo", aggregate: "count" },
                      ],
                    },
                    sortable: {
                      mode: "single",
                      allowUnsort: false,
                    },
                    height: 300,
                    selectable: "row",
                    dataBound: function (args) {},
                    resizable: true,
                    navigatable: true,
                    pageable: true,
                    detailExpand: function () {
                      //this.virtualScrollable.refresh();
                    },
                    filterable: {
                      extra: false,
                      operators: {
                        string: {
                          startswith: "Starts with",
                          eq: "Is equal to",
                          neq: "Is not equal to",
                        },
                      },
                    },
                    columns: [
                      {
                        field: "LabNo",
                        title: "Laboratory Name",
                        width: "150px",
                      },
                      {
                        field: "Name",
                        title: "Name",
                        width: "150px",
                        template: function (e) {
                          if (e.Name == null) return "<span>None</span>";
                          else return "<span>" + e.Name + "</span>";
                        },
                      },
                      {
                        field: "AdvisedDoctor",
                        title: "Referred By",
                        width: "150px",
                      },
                      {
                        field: "TestName",
                        title: "Test",
                        width: "170px",
                        template: function (e) {
                          if (e.TestName == null) return "<span>None</span>";
                          else return "<span>" + e.TestName + "</span>";
                        },
                      },
                      {
                        title: "Amount",
                        field: "PaidAmount",
                        width: "80px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['PaidAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.PaidAmount == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.PaidAmount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Lab Rate",
                        field: "LaboratoryRate",
                        width: "80px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['LaboratoryRate'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.LaboratoryRate == null)
                            return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.LaboratoryRate.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Date",
                        field: "Date",
                        width: "150px",
                      },
                    ],
                  });
                };
                //*****************************************************************************
                //*********************kendo Dr.RefferalCut***************************
                _.RefferalDoctor = function (
                  FromDate,
                  ToDate,
                  LocationId,
                  str
                ) {
                  debugger;
                  $("#gridDrRefferal").kendoGrid({
                    dataSource: {
                      transport: {
                        read: function (options) {
                          // make AJAX request to the remote service
                          // ////////////// ////debugger
                          $.ajax({
                            url: "/BillingModule/BillingService.asmx/GetAllPanelDoctorRefferalDetails",
                            type: "POST",
                            dataType: "json",
                            data: JSON.stringify({
                              FromDate: FromDate,
                              ToDate: ToDate,
                              LocationId: LocationId,
                              str: str,
                            }),
                            contentType: "application/json; charset=utf-8",
                            success: function (result) {
                              //////////////// ////debugger
                              // notify the DataSource that the operation is complete
                              var result = JSON.parse(result.d).Table;
                              for (var i = 0; i < result.length; i++) {
                                result[i]._Date = kendo.parseDate(
                                  result[i].Dt,
                                  "dd-MM-yyyy HH:mm:ss tt"
                                );
                              }
                              if (result.length > 0) $("#ShowMsg").hide();
                              options.success(result);
                              // ////////////// ////debugger
                            },
                            error: function (error) {
                              // ////////////// ////debugger
                            },
                          });
                        },
                      },
                      pageSize: 50,
                      aggregate: [
                        { field: "PA", aggregate: "sum" },
                        { field: "RefCut", aggregate: "sum" },
                        { field: "DoctorName", aggregate: "count" },
                      ],
                    },
                    sortable: {
                      mode: "single",
                      allowUnsort: false,
                    },
                    height: 300,
                    selectable: "row",
                    dataBound: function (args) {
                      //////////////// ////debugger
                    },
                    scrollable: {
                      //   virtual: true
                    },
                    resizable: true,
                    navigatable: true,
                    pageable: true,
                    detailExpand: function () {
                      //this.virtualScrollable.refresh();
                    },
                    filterable: {
                      extra: false,
                      operators: {
                        string: {
                          startswith: "Starts with",
                          eq: "Is equal to",
                          neq: "Is not equal to",
                        },
                      },
                    },
                    detailInit: detailInit,
                    selectable: "row",
                    columns: [
                      {
                        title: "Reff.Name",
                        field: "DoctorName",
                        width: "150px",
                      },
                      {
                        title: "No of Time",
                        field: "NT",
                        width: "150px",
                        filterable: false,
                        footerTemplate: "â‚¹",
                      },
                      {
                        title: "Test Amount",
                        field: "PA",
                        width: "150px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['PA'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.PA == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" + e.PA.toLocaleString("en") + "</span>"
                            );
                        },
                      },
                      {
                        title: "ReffCut",
                        field: "RefCut",
                        width: "150px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['RefCut'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.RefCut == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.RefCut.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                    ],
                  });
                  function detailInit(e) {
                    //    //////// ////debugger
                    var refid = e.data.AdvisedDoctorId;
                    $("<div/>")
                      .appendTo(e.detailCell)
                      .kendoGrid({
                        dataSource: {
                          transport: {
                            read: function (options) {
                              // make AJAX request to the remote service
                              // ////////////// ////debugger
                              $.ajax({
                                url: "/BillingModule/BillingService.asmx/GetAllPanelDoctorCutDetails",
                                type: "POST",
                                dataType: "json",
                                data: JSON.stringify({
                                  FromDate: FromDate,
                                  ToDate: ToDate,
                                  LocationId: LocationId,
                                  str: str,
                                  RefId: refid,
                                }),
                                contentType: "application/json; charset=utf-8",
                                success: function (result) {
                                  //////////////// ////debugger
                                  // notify the DataSource that the operation is complete
                                  var result = JSON.parse(result.d).Table;
                                  for (var i = 0; i < result.length; i++) {
                                    result[i]._Date = kendo.parseDate(
                                      result[i].Dt,
                                      "dd-MM-yyyy HH:mm:ss tt"
                                    );
                                  }
                                  options.success(result);
                                  // ////////////// ////debugger
                                },
                                error: function (error) {
                                  // ////////////// ////debugger
                                },
                              });
                            },
                          },
                          aggregate: [
                            { field: "PaidAmount", aggregate: "sum" },
                            { field: "Rupees", aggregate: "sum" },
                            { field: "PatientName", aggregate: "count" },
                          ],
                        },
                        scrollable: true,
                        sortable: true,
                        height: 200,
                        // pageable: true,
                        columns: [
                          {
                            title: "Name",
                            field: "PatientName",
                            width: "150px",
                            footerTemplate:
                              "Count : #= data['PatientName'].count #",
                          },
                          {
                            title: "Test",
                            field: "Description",
                            width: "150px",
                            footerTemplate: "â‚¹",
                          },
                          {
                            title: "Amount",
                            field: "PaidAmount",
                            width: "150px",
                            footerTemplate:
                              "#= parseFloat(Math.round(data['PaidAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                            filterable: false,
                            template: function (e) {
                              if (e.PaidAmount == null)
                                return "<span>0.00</span>";
                              else
                                return (
                                  "<span>" +
                                  e.PaidAmount.toLocaleString("en") +
                                  "</span>"
                                );
                            },
                          },
                          {
                            title: "Reff Cut",
                            field: "Rupees",
                            width: "150px",
                            footerTemplate:
                              "#= parseFloat(Math.round(data['Rupees'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                            filterable: false,
                            template: function (e) {
                              if (e.Rupees == null) return "<span>0.00</span>";
                              else
                                return (
                                  "<span>" +
                                  e.Rupees.toLocaleString("en") +
                                  "</span>"
                                );
                            },
                          },
                          {
                            title: "Date",
                            field: "AdviseDate",
                            width: "150px",
                          },
                        ],
                      });
                  }
                };
                //********************************************************************
                //**********************Corporate Panel Grid Start********************
                _.CorporatePanelGrid = function (
                  FromDate,
                  ToDate,
                  LocationId,
                  str,
                  PanelId
                ) {
                  debugger;
                  $("#grdcp").kendoGrid({
                    dataSource: {
                      transport: {
                        read: function (options) {
                          // make AJAX request to the remote service
                          // ////////////// ////debugger
                          $.ajax({
                            url: "/BillingModule/BillingService.asmx/GetCorporatePanelAmtDetails",
                            type: "POST",
                            dataType: "json",
                            data: JSON.stringify({
                              FromDate: FromDate,
                              ToDate: ToDate,
                              LocationId: LocationId,
                              str: str,
                              CorporatePanelId: PanelId,
                              Active: "1",
                            }),
                            contentType: "application/json; charset=utf-8",
                            success: function (result) {
                              //////// ////debugger
                              // notify the DataSource that the operation is complete
                              var result = JSON.parse(result.d).Table;
                              for (var i = 0; i < result.length; i++) {
                                result[i]._Date = kendo.parseDate(
                                  result[i].Dt,
                                  "dd-MM-yyyy HH:mm:ss tt"
                                );
                              }
                              if (result.length > 0) $("#ShowMsg").hide();
                              options.success(result);
                              // ////////////// ////debugger
                            },
                            error: function (error) {
                              // ////////////// ////debugger
                            },
                          });
                        },
                      },
                      pageSize: 50,
                      aggregate: [
                        { field: "ActualAmount", aggregate: "sum" },
                        { field: "PaidAmount", aggregate: "sum" },
                      ],
                    },
                    height: 400,
                    selectable: "row",
                    resizable: true,
                    navigatable: true,
                    pageable: true,
                    columns: [
                      {
                        title: "Panel Name",
                        field: "CorporatePanelName",
                        width: "150px",
                      },
                      {
                        title: "Staff Name",
                        field: "StaffName",
                        width: "150px",
                        template: function (e) {
                          if (e.StaffName == null) return "<span>None</span>";
                          else return "<span>" + e.StaffName + "</span>";
                        },
                      },
                      {
                        title: "Patient Name",
                        field: "PatientName",
                        width: "150px",
                        template: function (e) {
                          if (e.PatientName == null) return "<span>None</span>";
                          else return "<span>" + e.PatientName + "</span>";
                        },
                      },
                      {
                        title: "Actual Amount",
                        field: "ActualAmount",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['ActualAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        template: function (e) {
                          if (e.ActualAmount == null)
                            return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.ActualAmount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Paid Amount",
                        field: "PaidAmount",
                        width: "100px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['PaidAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        template: function (e) {
                          if (e.PaidAmount == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.PaidAmount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Date",
                        field: "DateOfIssue",
                        width: "100px",
                      },
                    ],
                  });
                };
                //**********************Corporate Panel Grid End**********************
                _.InsurancePanelGrid = function (
                  FromDate,
                  ToDate,
                  LocationId,
                  str,
                  PanelId
                ) {
                  debugger;
                  $("#grdInsurance").kendoGrid({
                    dataSource: {
                      transport: {
                        read: function (options) {
                          // make AJAX request to the remote service
                          // ////////////// ////debugger
                          $.ajax({
                            url: "/BillingModule/BillingService.asmx/GetALLInsurancePanelDetails",
                            type: "POST",
                            dataType: "json",
                            data: JSON.stringify({
                              FromDate: FromDate,
                              ToDate: ToDate,
                              LocationId: LocationId,
                              str: str,
                              PanelId: PanelId,
                            }),
                            contentType: "application/json; charset=utf-8",
                            success: function (result) {
                              //////// ////debugger
                              // notify the DataSource that the operation is complete
                              var result = JSON.parse(result.d).Table;
                              for (var i = 0; i < result.length; i++) {
                                result[i]._Date = kendo.parseDate(
                                  result[i].Dt,
                                  "dd-MM-yyyy HH:mm:ss tt"
                                );
                              }
                              if (result.length > 0) $("#ShowMsg").hide();
                              options.success(result);
                            },
                            error: function (error) {
                              // ////////////// ////debugger
                            },
                          });
                        },
                      },
                      aggregate: [
                        { field: "Amount", aggregate: "sum" },
                        { field: "PanelAmount", aggregate: "sum" },
                        { field: "Name", aggregate: "count" },
                      ],
                    },
                    sortable: {
                      mode: "single",
                      allowUnsort: false,
                    },
                    height: 300,
                    selectable: "row",
                    dataBound: function (args) {
                      //////////////// ////debugger
                    },
                    resizable: true,
                    navigatable: true,
                    detailExpand: function () {
                      //this.virtualScrollable.refresh();
                    },
                    filterable: {
                      extra: false,
                      operators: {
                        string: {
                          startswith: "Starts with",
                          eq: "Is equal to",
                          neq: "Is not equal to",
                        },
                      },
                    },
                    detailInit: detailInit_Panel,
                    selectable: "row",
                    columns: [
                      {
                        title: "Panel Name",
                        field: "Name",
                        width: "150px",
                      },
                      {
                        title: "No of Times",
                        field: "NT",
                        width: "150px",
                      },
                      {
                        title: "Amount",
                        field: "Amount",
                        width: "150px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['Amount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.Amount == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.Amount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                      {
                        title: "Panel Amount",
                        field: "PanelAmount",
                        width: "150px",
                        footerTemplate:
                          "#= parseFloat(Math.round(data['PanelAmount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                        filterable: false,
                        template: function (e) {
                          if (e.PanelAmount == null) return "<span>0.00</span>";
                          else
                            return (
                              "<span>" +
                              e.PanelAmount.toLocaleString("en") +
                              "</span>"
                            );
                        },
                      },
                    ],
                  });
                  //**********************Insurance Panel-> 1 End********************
                  function detailInit_Panel(e) {
                    //////// ////debugger
                    var packageid = e.data.PackageId;
                    $("<div/>")
                      .appendTo(e.detailCell)
                      .kendoGrid({
                        dataSource: {
                          transport: {
                            read: function (options) {
                              // make AJAX request to the remote service
                              // ////////////// ////debugger
                              $.ajax({
                                url: "/BillingModule/BillingService.asmx/GetAllInsurancePanelAmtDetails",
                                type: "POST",
                                dataType: "json",

                                data: JSON.stringify({
                                  FromDate: FromDate,
                                  ToDate: ToDate,
                                  LocationId: LocationId,
                                  str: str,
                                  PID: packageid,
                                }),

                                contentType: "application/json; charset=utf-8",
                                success: function (result) {
                                  //////////////// ////debugger
                                  // notify the DataSource that the operation is complete
                                  var result = JSON.parse(result.d).Table;
                                  for (var i = 0; i < result.length; i++) {
                                    result[i]._Date = kendo.parseDate(
                                      result[i].Dt,
                                      "dd-MM-yyyy HH:mm:ss tt"
                                    );
                                  }
                                  options.success(result);
                                  // ////////////// ////debugger
                                },
                                error: function (error) {
                                  // ////////////// ////debugger
                                },
                              });
                            },
                          },
                          aggregate: [
                            { field: "Amount", aggregate: "sum" },
                            { field: "PanelAmt", aggregate: "sum" },
                            { field: "PatientName", aggregate: "count" },
                          ],
                        },
                        filterable: {
                          extra: false,
                          operators: {
                            string: {
                              startswith: "Starts with",
                              eq: "Is equal to",
                              neq: "Is not equal to",
                            },
                          },
                        },
                        height: 200,
                        scrollable: true,
                        sortable: true,
                        columns: [
                          {
                            title: "Patient Name",
                            field: "PatientName",
                            width: "150px",
                            footerTemplate:
                              "Count : #= data['PatientName'].count #",
                          },
                          {
                            title: "Test",
                            field: "Description",
                            width: "150px",
                          },
                          {
                            field: "Amount",
                            title: "Amount",
                            width: "150px",
                            footerTemplate:
                              "#= parseFloat(Math.round(data['Amount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                            filterable: false,
                            template: function (e) {
                              if (e.Amount == null) return "<span>0.00</span>";
                              else
                                return (
                                  "<span>" +
                                  e.Amount.toLocaleString("en") +
                                  "</span>"
                                );
                            },
                          },
                          {
                            field: "PanelAmt",
                            title: "Panel Amount",
                            width: "150px",
                            footerTemplate:
                              "#= parseFloat(Math.round(data['PanelAmt'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                            filterable: false,
                            template: function (e) {
                              if (e.PanelAmt == null)
                                return "<span>0.00</span>";
                              else
                                return (
                                  "<span>" +
                                  e.PanelAmt.toLocaleString("en") +
                                  "</span>"
                                );
                            },
                          },
                          {
                            title: "Date",
                            field: "DateOfIssue",
                            width: "100px",
                          },
                        ],
                      });
                  }
                };
                //**********************Insurance Panel End********************
                _.fillgrid = function (StartDate, EndDate) {
                  debugger;
                  IncomeAppservice.GetAllIncomeExpenses(
                    StartDate,
                    EndDate
                  ).then(function (result) {
                    if (result.length > 0) {
                      //////// ////debugger

                      var amount = 0.0;
                      var refund = 0.0;
                      for (var i = 0; i < result.length; i++) {
                        amount += result[i].Amount;
                        refund += result[i].Refund;
                      }
                      amount = amount - refund;
                      $("#spanExpenses").text(
                        amount.toFixed(2).toLocaleString("en")
                      );
                      $("#spanExpenses").prepend('<i class="fa fa-rupee"></i>');

                      $("#ShowMsg").hide();
                      $("#chart").show();
                      $("#stockchart").hide();
                      $("#rowSelection").show();
                      $("#incomegrid").hide();
                      _.divbuttonReport = true;
                      _.AllAmountAndDate = "";
                      _.AllAmountAndDate = result;

                      //function createChart() {
                      if (_.AllAmountAndDate.length <= 10) {
                        _.rotate = -30;
                      } else if (
                        _.AllAmountAndDate.length > 10 &&
                        _.AllAmountAndDate.length <= 20
                      ) {
                        _.rotate = -60;
                      } else if (_.AllAmountAndDate.length > 20) {
                        _.rotate = -90;
                      }
                      $("#chart").kendoChart({
                        dataSource: {
                          data: _.AllAmountAndDate,
                        },
                        title: {
                          text: "Expenses Chart",
                        },
                        legend: {
                          position: "bottom",
                        },
                        seriesDefaults: {
                          type: "line",
                        },
                        series: [
                          {
                            field: "Amount",
                            name: "Amount",
                            noteTextField: "extremum",
                            notes: {
                              label: {
                                position: "outside",
                              },
                              position: "bottom",
                            },
                          },
                          {
                            field: "Refund",
                            name: "Refund",
                          },
                        ],
                        valueAxis: {
                          line: {
                            visible: false,
                          },
                        },
                        categoryAxis: {
                          labels: { rotation: _.rotate },
                          field: "CurrentDate",
                          majorGridLines: {
                            visible: false,
                          },
                        },
                        tooltip: {
                          visible: true,
                          template: "#= series.name #: #= value #",
                        },
                      });
                      //  }
                      //  $(document).ready(createChart);
                      // $(document).bind("kendo:skinChange", createChart);
                      $("#rowSelection").kendoGrid({
                        dataSource: {
                          data: _.AllAmountAndDate,
                          pageSize: 6,
                          aggregate: [
                            { field: "Amount", aggregate: "sum" },
                            { field: "Refund", aggregate: "sum" },
                          ],
                        },
                        dataBound: function () {
                          //no idea why this gets lost after click
                          $("#rowSelection .edit").click(function editRow(e) {
                            //////////// ////debugger
                            _.AllField = true;
                            _.divbuttonSave = true;
                            var gview = $("#rowSelection").data("kendoGrid");
                            var selectedItem = gview.dataItem(
                              gview._current.parent()
                            );
                            $("#btnsave").val("Update");
                            // $("#StaffAssign").data("kendoComboBox").value('');
                            // $("#StaffAssign").data("kendoComboBox").text(selectedItem.StaffAssign);
                            $("#s2id_StaffAssign")
                              .find(".select2-chosen")
                              .text(selectedItem.StaffAssign);
                            $("#StaffAssign").val(selectedItem.AssignStaffId);
                            $("#datetimepicker").val(selectedItem.CurrentDate);
                            var $scope = angular
                              .element($("#MainContantDiv"))
                              .scope();
                            $scope.$apply(function () {
                              ////////// ////debugger
                              $scope.Staffid = selectedItem.AssignStaffId;
                              $scope.Description_Type =
                                selectedItem.Description;
                              $scope.StaffGivento = selectedItem.StaffGiven;
                              $scope.Amount = selectedItem.Amount;
                              $scope.Refund = selectedItem.Refund;
                              $scope.ExpenseId = selectedItem.ExpenseId;
                              $("#txtStaffGivento").attr(
                                "value",
                                selectedItem.GivenToStaff
                              );
                            });
                          });
                        },
                        // selectable: "single",
                        pageable: {
                          buttonCount: 5,
                        },
                        scrollable: false,
                        navigatable: true,
                        //change: function (e) {
                        //    //

                        //},
                        columns: [
                          { field: "CurrentDate", title: "Date", width: 300 },
                          {
                            field: "Description",
                            title: "Description/Type",
                            width: 200,
                          },
                          {
                            field: "StaffAssign",
                            title: "Assigned By",
                            width: 300,
                          },
                          {
                            field: "StaffGiven",
                            title: "Given To",
                            width: 400,
                          },
                          {
                            field: "Amount",
                            title: "Amount",
                            width: 200,
                            footerTemplate:
                              "#= parseFloat(Math.round(data['Amount'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                            filterable: false,
                          },
                          {
                            field: "Refund",
                            title: "Refund",
                            width: 200,
                            footerTemplate:
                              "#= parseFloat(Math.round(data['Refund'].sum * 100) / 100).toFixed(2).toLocaleString('en') #",
                            filterable: false,
                          },
                          {
                            field: "GivenToStaff",
                            title: "Edit",
                            template:
                              "#if (GivenToStaff) { #<input type='button' class='btn1 btn-primary edit' text='Edit' value='Edit' title='Edit!!'/># } #",
                            width: 100,
                          },
                        ],
                      });
                    } else {
                      //  $("#ShowMsg").show();
                      // $("#ShowMsg").text("No data found...");
                      $("#spanExpenses").text("-");
                      $("#chart").hide();
                      $("#rowSelection").hide();
                    }
                  });
                  $("#loading").hide();
                  function EditDetails() {
                    //////////// ////debugger
                  }
                };

                _.save = function () {
                  debugger;

                  if ($("#MainContantDiv").validationEngine("validate")) {
                    StartDate =
                      $('input[name="daterange"]').val().split(" - ")[0] +
                      " 00:00:00"; //$('input[name="daterangepicker_start"]').val() + ' 00:00:00';
                    EndDate =
                      $('input[name="daterange"]').val().split(" - ")[1] +
                      " 23:59:59"; //$('input[name="daterangepicker_end"]').val() + ' 23:59:59';
                    if ($("#btnsave").val() == "Save") {
                      if (
                        _.Staffid != "" &&
                        _.Staffid != "undefined" &&
                        _.StaffGivento.trim() != ""
                      ) {
                        IncomeAppservice.InsertIncomeExpenses(
                          $("#datetimepicker")
                            .data("kendoDateTimePicker")
                            .value(),
                          _.Description_Type,
                          $("#StaffAssign").val(),
                          _.Staffid,
                          _.Amount,
                          _.Refund == undefined || _.Refund == "" ? 0 : _.Refund
                        ).then(function (result) {
                          _.fillgrid(
                            $('input[name="daterangepicker_start"]').val() +
                              " 00:00:00",
                            $('input[name="daterangepicker_end"]').val() +
                              " 23:59:59"
                          );
                          $("#rowSelection")
                            .data("kendoGrid")
                            .dataSource.read();
                          $("#rowSelection").data("kendoGrid").refresh();

                          _.GetAllGivenStaffList();
                          _.Message = "Submitted successfully";
                          $(".action-msg").show();
                          $(".action-msg").hide(5000);
                          _.clear();
                        });
                      } else {
                        if (
                          $("#CreateCheck").is(":checked") == true &&
                          _.StaffGivento.trim() != ""
                        ) {
                          //////////// ////debugger
                          IncomeAppservice.GetStaffId(
                            _.StaffGivento.trim()
                          ).then(function (result) {
                            _.NewStaffid = result[0].StaffId;

                            IncomeAppservice.InsertIncomeExpenses(
                              $("#datetimepicker")
                                .data("kendoDateTimePicker")
                                .value(),
                              _.Description_Type,
                              $("#StaffAssign").val(),
                              _.NewStaffid,
                              _.Amount,
                              _.Refund == undefined || _.Refund == ""
                                ? 0
                                : _.Refund
                            ).then(function (result) {
                              _.fillgrid(
                                $('input[name="daterangepicker_start"]').val() +
                                  " 00:00:00",
                                $('input[name="daterangepicker_end"]').val() +
                                  " 23:59:59"
                              );
                              $("#rowSelection")
                                .data("kendoGrid")
                                .dataSource.read();
                              $("#rowSelection").data("kendoGrid").refresh();

                              _.GetAllGivenStaffList();
                              _.Message = "Submitted successfully";
                              $(".action-msg").show();
                              $(".action-msg").hide(5000);
                              _.clear();
                            });
                          });
                        } else {
                          $("#Givenlbl").show();
                          $timeout(function () {
                            $("#Givenlbl").hide();
                          }, 2000);
                        }
                      }
                    } else {
                      ////////// ////debugger

                      if (
                        $("#txtStaffGivento").attr("value") == "" &&
                        _.Staffid == ""
                      ) {
                        if ($("#CreateCheck").is(":checked") == true) {
                          IncomeAppservice.GetStaffId(_.StaffGivento).then(
                            function (result) {
                              ////////// ////debugger
                              _.Staffid = result[0].StaffId;
                              IncomeAppservice.UpdateIncomeExpenses(
                                _.ExpenseId,
                                $("#datetimepicker").val(),
                                _.Description_Type,
                                $("#StaffAssign").val(),
                                $("#txtStaffGivento").attr("value") == ""
                                  ? _.Staffid
                                  : $("#txtStaffGivento").attr("value"),
                                _.Amount,
                                _.Refund == undefined || _.Refund == ""
                                  ? 0
                                  : _.Refund
                              ).then(function (result) {
                                _.fillgrid(
                                  $(
                                    'input[name="daterangepicker_start"]'
                                  ).val() + " 00:00:00",
                                  $('input[name="daterangepicker_end"]').val() +
                                    " 23:59:59"
                                );
                                $("#rowSelection")
                                  .data("kendoGrid")
                                  .dataSource.read();
                                $("#rowSelection").data("kendoGrid").refresh();
                                //
                                _.GetAllGivenStaffList();
                                _.Message = "Updated successfully";
                                $(".action-msg").show();
                                $(".action-msg").hide(5000);
                                _.clear();
                              });
                            }
                          );
                        } else {
                          $("#Givenlbl").show();
                          $timeout(function () {
                            $("#Givenlbl").hide();
                          }, 2000);
                        }
                      } else {
                        ////////// ////debugger
                        if (
                          _.Staffid != "" &&
                          _.Staffid != "undefined" &&
                          _.StaffGivento.trim() != ""
                        ) {
                          IncomeAppservice.UpdateIncomeExpenses(
                            _.ExpenseId,
                            $("#datetimepicker").val(),
                            _.Description_Type,
                            $("#StaffAssign").val(),
                            $("#txtStaffGivento").attr("value") == ""
                              ? _.Staffid
                              : $("#txtStaffGivento").attr("value"),
                            _.Amount,
                            _.Refund == undefined || _.Refund == ""
                              ? 0
                              : _.Refund
                          ).then(function (result) {
                            _.fillgrid(
                              $('input[name="daterangepicker_start"]').val() +
                                " 00:00:00",
                              $('input[name="daterangepicker_end"]').val() +
                                " 23:59:59"
                            );
                            $("#rowSelection")
                              .data("kendoGrid")
                              .dataSource.read();
                            $("#rowSelection").data("kendoGrid").refresh();
                            //
                            _.GetAllGivenStaffList();
                            _.Message = "Updated successfully";
                            $(".action-msg").show();
                            $(".action-msg").hide(5000);
                            _.clear();
                          });
                        } else {
                          $("#Givenlbl").show();
                          $timeout(function () {
                            $("#Givenlbl").hide();
                          }, 2000);
                        }
                      }
                    }
                  }
                };
                LocationId =
                  _.SelectedBranchId == "" ? null : _.SelectedBranchId;
                _.Incomegrid(
                  newdate1,
                  newdate3,
                  LocationId,
                  null,
                  null,
                  "",
                  null,
                  "60bd7a49-66c4-432d-a477-311ff96495d9"
                );
                // _.fillgrid(newdate1, newdate3);
              }
            );

            if (
              navigator.userAgent.toLowerCase().indexOf("safari") > 90 ||
              navigator.userAgent.toLowerCase().indexOf("firefox") > 60
            ) {
              var today = new Date();
            } else {
              var today = new Date("06/15/2024 17:05:49"); //'2024-06-15';
            }
            //$('#dateRange span').html(moment().format('DD-MM-YYYY') + ' - ' + moment().format('DD-MM-YYYY'));
            //$("#hdnFromDate").val(moment().format('DD-MM-YYYY'));
            //$("#hdnToDate").val(moment().format('DD-MM-YYYY'));

            $("#dateRange span").html(
              today.format("DD-MM-YYYY") + " - " + today.format("DD-MM-YYYY")
            );
            $("#hdnFromDate").val(today.format("DD-MM-YYYY"));
            $("#hdnToDate").val(today.format("DD-MM-YYYY"));
            //

            function showIncomeExpensesReport() {
              $("#reportViewerHtml5IncomeReport").hide();
              $("#reportViewerHtml5TestWiseReport").hide();
              $("#reportViewerHtml5IncomExpensesReport").show();
              $(window).scrollTop(900);
              //assigning data source to report
              var viewer = $("#reportViewerHtml5IncomExpensesReport").data(
                "telerik_ReportViewer"
              );
              //alert($('input[name="daterange"]').val());
              var val;
              val = $('input[name="daterange"]').val();
              var date = [];

              date = val.split("-");
              $("#hdnFromDate").val(date[0]);
              $("#hdnToDate").val(date[1]);

              //alert($("#hdnFromDate").val());
              viewer.reportSource({
                // report: "MedChowk.Master.TelerikIncomeExpensesPage,MedChowk",
                report: "MedChowk.Reports.IncomeExpensesReport,MedChowk",

                parameters: {
                  fromDate: $("#hdnFromDate").val(),
                  toDate: $("#hdnToDate").val(),
                  Type: $("#txtType").val(),
                  StaffAssign: $("#StaffAssign").val(),
                  StaffGivento: $("#txtStaffGivento").val(),
                  Amount: $("#txtAmount").val(),
                  Refund: $("#txtRefund").val(),
                  ApplicationId: "60bd7a49-66c4-432d-a477-311ff96495d9",
                },
              });
            }

            function showIncomeReport() {
              $("#reportViewerHtml5IncomeReport").show();
              $("#reportViewerHtml5TestWiseReport").hide();
              $(window).scrollTop(900);
              //assigning data source to report
              var viewer = $("#reportViewerHtml5IncomeReport").data(
                "telerik_ReportViewer"
              );
              //alert($('input[name="daterange"]').val());
              var val;
              val = $('input[name="daterange"]').val();
              var date = [];
              date = val.split("-");
              $("#hdnFromDate").val(date[0]);
              $("#hdnToDate").val(date[1]);

              //alert($("#hdnFromDate").val());
              viewer.reportSource({
                // report: "MedChowk.Master.TelerikIncomeExpensesPage,MedChowk",
                report: "MedChowk.Reports.IncomeReport,MedChowk",

                parameters: {
                  fromDate: $("#hdnFromDate").val(),
                  toDate: $("#hdnToDate").val(),
                  ApplicationId: "60bd7a49-66c4-432d-a477-311ff96495d9",
                },
              });
            }
          </script>

          <script src="https://cdn.healthscion.com/Scripts/spin.min.js"></script>

          <script type="text/javascript">
            //<![CDATA[
            (function () {
              var fn = function () {
                $get("ToolkitScriptManager1_HiddenField").value = "";
                Sys.Application.remove_init(fn);
              };
              Sys.Application.add_init(fn);
            })();
            theForm.oldSubmit = theForm.submit;
            theForm.submit = WebForm_SaveScrollPositionSubmit;

            theForm.oldOnSubmit = theForm.onsubmit;
            theForm.onsubmit = WebForm_SaveScrollPositionOnSubmit;
            Sys.Application.add_init(function () {
              $create(
                Sys.Extended.UI.ModalPopupBehavior,
                {
                  BackgroundCssClass: "ModalPopupBG1",
                  PopupControlID: "divNewFeature",
                  dynamicServicePath: "/Master/IncomeExpenses.aspx",
                  id: "modalFeature",
                },
                null,
                null,
                $get("HiddenField5")
              );
            });
            //]]>
          </script>
          <div
            id="modalFeature_backgroundElement"
            class="ModalPopupBG1"
            style="
              display: none;
              position: fixed;
              left: 0px;
              top: 0px;
              z-index: 10000;
            "
          ></div>
        </form>
      </div>
    </div>
    <script src="nav.js"></script>
  </body>
</html>
