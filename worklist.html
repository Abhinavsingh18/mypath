<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Investigation Worklist</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./assets/kendo.metro.min.css" />
    <link rel="stylesheet" href="./assets/style.css" />
    <link rel="stylesheet" href="./assets/jquery-ui-1.9.1.custom.css" />
    <link rel="stylesheet" href="./assets/jquery.jscrollpane.css" />
    <link rel="stylesheet" href="./assets/kendo.common.min.css" />
    <link rel="stylesheet" href="./assets/nav.css" />
  </head>
  <body>
    <div id="navbar"></div>

    <div id="filterMenu" style="width: 100%">
      <div
        id="labMenuUpper"
        data-role="menu"
        class="k-widget k-reset k-header k-menu k-menu-horizontal"
        tabindex="0"
        role="menubar"
      >
        <div class="topnextprevcalender">
          <div class="reminderbtn">
            <div class="btnrmd">
              <input type="button" id="btnReminderTest" value="Reminder" />
            </div>
          </div>
          <div class="calendarara">
            <div
              style="
                display: flex;
                justify-content: center;
                align-items: center;
              "
              class="allbtn"
            >
              <i
                style="margin-left: 4px"
                class="fa-solid fa-share fa-flip-horizontal"
              ></i>
            </div>
            <div class="prev">
              <i id="prevDate" class="fa-solid fa-chevron-left"></i>
            </div>
            <h3>
              <input type="text" id="lbldate" style="width: 95px;padding-left: 3px;border-radius: 7px;border: none;" readonly />
            </h3>
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                <path
                  d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192h80v56H48V192zm0 104h80v64H48V296zm128 0h96v64H176V296zm144 0h80v64H320V296zm80-48H320V192h80v56zm0 160v40c0 8.8-7.2 16-16 16H320V408h80zm-128 0v56H176V408h96zm-144 0v56H64c-8.8 0-16-7.2-16-16V408h80zM272 248H176V192h96v56z"
                />
              </svg>
              <div id="DateContainer" class="fromtodate" style="display: none">
                <span class="arw"></span>
                <h6>From Date</h6>
                <div class="inptarea">
                  <input
                    type="text"
                    id="txtFromDate"
                    class="k-input"
                    style="width: 100%"
                  />
                </div>
                <h6>To Date:</h6>
                <div class="inptarea no">
                  <input
                    type="text"
                    id="txtToDate"
                    class="k-input"
                    style="width: 100%"
                  />
                </div>
                <div style="width: 100%; text-align: center">
                  <a
                    href="javascript:void(0);"
                    id="btndateok"
                    style="
                      padding: 4px 10px;
                      background: #26a6dc;
                      border-radius: 3px;
                      color: #fff;
                      text-decoration: none;
                      text-transform: uppercase;
                      margin: 8px 0 5px;
                      display: inline-block;
                    "
                    >Ok</a
                  >
                </div>
              </div>
            </div>
            <div class="next">
              <i id="nextDate" class="fa-solid fa-chevron-right" style="margin-left: 11px;"></i>
              <input type="button" id="NextDate" value="Next" />
            </div>
            <div
              style="
                display: flex;
                justify-content: center;
                align-items: center;
              "
              class="reset"
              id="butReset"
            >
              <i class="fa-solid fa-rotate-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const dateInput = document.getElementById("lbldate");
        let currentDate = new Date();

        // Initialize the date input field
        function updateDate() {
          dateInput.value = currentDate.toISOString().split("T")[0]; // Format as YYYY-MM-DD
        }

        // Event listener for the Previous button
        document
          .getElementById("prevDate")
          .addEventListener("click", function () {
            currentDate.setDate(currentDate.getDate() - 1); // Decrease the date by 1 day
            updateDate();
          });

        // Event listener for the Next button
        document
          .getElementById("nextDate")
          .addEventListener("click", function () {
            currentDate.setDate(currentDate.getDate() + 1); // Increase the date by 1 day
            updateDate();
          });

        // Initialize the date display
        updateDate();
      });
    </script>

    <div
      class="worklistlinks k-widget k-reset k-header k-menu k-menu-horizontal"
      id="labMenu"
      data-role="menu"
      tabindex="0"
      role="menubar"
    >
      <ul>
        <li class="branches">
          <a href="#">Branches</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <div
              class="scroll-pane"
              style="overflow: hidden; padding: 0px; width: 140px"
            >
              <div class="jspContainer" style="width: 140px; height: 270px">
                <div
                  class="jspPane"
                  style="padding: 0px; top: 0px; width: 140px"
                >
                  <div id="selectBranches">
                    <!-- Branches will be dynamically inserted here -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </li>
        <li class="branches">
          <a href="#">Panel</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <div
              class="scroll-pane"
              style="overflow: hidden; padding: 0px; width: 140px"
            >
              <div class="jspContainer" style="width: 140px; height: 270px">
                <div
                  class="jspPane"
                  style="padding: 0px; top: 0px; width: 140px"
                >
                  <div id="divPanel1"></div>
                </div>
              </div>
            </div>
          </div>
        </li>
        <li class="testic">
          <a href="javascript:void(0);">Test</a>
          <div class="testdropdwn k-content" style="width: 160px" tabindex="-1">
            <p>
              <input
                type="radio"
                name="testFilter"
                value="0"
                id="allTest"
                checked=""
              />
              <label for="allTest"> <span></span> All tests </label>
            </p>
            <p>
              <input
                type="radio"
                name="testFilter"
                value="5"
                id="pendingTest"
              />
              <label for="pendingTest" style="color: #cf8dea">
                <span></span> Pending Tests
              </label>
            </p>
            <p>
              <input
                type="radio"
                name="testFilter"
                value="1"
                id="partialTest"
              />
              <label for="partialTest" style="color: orange">
                <span></span> Partial Tests
              </label>
            </p>
            <p>
              <input
                type="radio"
                name="testFilter"
                value="2"
                id="completeTest"
              />
              <label for="completeTest" style="color: green">
                <span></span> Complete Tests
              </label>
            </p>
            <p>
              <input
                type="radio"
                name="testFilter"
                value="3"
                id="incompleteTest"
              />
              <label style="color: red" for="incompleteTest">
                <span></span> Incomplete Tests
              </label>
            </p>
            <p>
              <input
                type="radio"
                name="testFilter"
                value="4"
                id="outsourceTest"
              />
              <label style="color: gray" for="outsourceTest">
                <span></span> Outsource Tests
              </label>
            </p>
          </div>
        </li>
        <li class="sample">
          <a href="javascript:void(0);">Sample</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="sampleFilter"
                value="0"
                id="sampleFilAll"
                checked=""
              />
              <label for="sampleFilAll"> <span></span>All </label>
            </p>
            <p>
              <input
                type="radio"
                name="sampleFilter"
                id="sampleFilYes"
                value="1"
              />
              <label for="sampleFilYes"> <span></span>Yes </label>
            </p>
            <p>
              <input
                type="radio"
                name="sampleFilter"
                id="sampleFilNo"
                value="2"
              />
              <label for="sampleFilNo"> <span></span>No </label>
            </p>
          </div>
        </li>
        <li class="due">
          <a href="javascript:void(0);">Due</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="paidFilter"
                id="paidFil"
                value="0"
                checked=""
              />
              <label for="paidFil"> <span></span> All </label>
            </p>
            <p>
              <input type="radio" name="paidFilter" id="paidFilt" value="1" />
              <label style="color: orange" for="paidFilt">
                <span></span> Fully Paid
              </label>
            </p>
            <p>
              <input type="radio" name="paidFilter" id="paidFilD" value="2" />
              <label style="color: green" for="paidFilD">
                <span></span> Due
              </label>
            </p>
            <p>
              <input type="radio" name="paidFilter" id="paidFilR" value="3" />
              <label style="color: red" for="paidFilR">
                <span></span>Refund
              </label>
            </p>
          </div>
        </li>
        <li class="delivery">
          <a href="javascript:void(0);"> Delivery</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="deliverFilter"
                id="deliverFA"
                value="0"
                checked=""
              />
              <label for="deliverFA"> <span></span> All </label>
            </p>
            <p>
              <input
                type="radio"
                name="deliverFilter"
                id="deliverFDB"
                value="1"
              />
              <label for="deliverFDB"> <span></span>Delivery Boy </label>
            </p>
            <p>
              <input
                type="radio"
                name="deliverFilter"
                id="deliverFE"
                value="2"
              />
              <label for="deliverFE"> <span></span>Email </label>
            </p>
            <p>
              <input
                type="radio"
                name="deliverFilter"
                id="deliverFilH"
                value="3"
              />
              <label for="deliverFilH"> <span></span>Hospital </label>
            </p>
            <p>
              <input
                type="radio"
                name="deliverFilter"
                id="deliverFilC"
                value="4"
              />
              <label for="deliverFilC"> <span></span>Courier </label>
            </p>
            <p>
              <input
                type="radio"
                name="deliverFilter"
                id="deliverFilS"
                value="5"
              />
              <label for="deliverFilS"> <span></span>Self </label>
            </p>
          </div>
        </li>
        <li class="chek">
          <a href="javascript:void(0);">Checked</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="checkedFilter"
                value="0"
                id="AllChecked"
                checked=""
              />
              <label for="AllChecked"> <span></span> All </label>
            </p>
            <p>
              <input
                type="radio"
                name="checkedFilter"
                value="1"
                id="YesChecked"
              />
              <label for="YesChecked"> <span></span>Yes </label>
            </p>
            <p>
              <input
                type="radio"
                name="checkedFilter"
                value="2"
                id="NoChecked"
              />
              <label for="NoChecked"> <span></span>No </label>
            </p>
          </div>
        </li>
        <li class="printed">
          <a href="javascript:void(0);">Published</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="publishedFilter"
                value="0"
                id="AllPublished"
                checked=""
              />
              <label for="AllPublished"> <span></span> All </label>
            </p>
            <p>
              <input
                type="radio"
                name="publishedFilter"
                value="1"
                id="YesPublished"
              />
              <label for="YesPublished"> <span></span>Yes </label>
            </p>
            <p>
              <input
                type="radio"
                name="publishedFilter"
                value="2"
                id="NoPublished"
              />
              <label for="NoPublished"> <span></span>No </label>
            </p>
          </div>
        </li>

        <li class="delivered">
          <a href="javascript:void(0);">Delivered</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="deliveredFilter"
                value="0"
                id="AllDelivered"
                checked=""
              />
              <label for="AllDelivered"> <span></span>All </label>
            </p>
            <p>
              <input
                type="radio"
                name="deliveredFilter"
                value="1"
                id="YesDelivered"
              />
              <label for="YesDelivered"> <span></span>Yes </label>
            </p>
            <p>
              <input
                type="radio"
                name="deliveredFilter"
                value="2"
                id="NoDelivered"
              />
              <label for="NoDelivered"> <span></span>No </label>
            </p>
          </div>
        </li>
        <li class="canceled">
          <a href="javascript:void(0);">Cancelled</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="cancelFilter"
                id="cancleAll"
                value="0"
                checked=""
              />
              <label for="cancleAll"> <span></span>All </label>
            </p>
            <p>
              <input
                type="radio"
                name="cancelFilter"
                id="cancleYes"
                value="1"
              />
              <label for="cancleYes"> <span></span>Yes </label>
            </p>
            <p>
              <input type="radio" name="cancelFilter" id="cancleNo" value="2" />
              <label for="cancleNo"> <span></span>No </label>
            </p>
          </div>
        </li>
        <li class="due">
          <a href="javascript:void(0);">Pay Mode</a>
          <div class="testdropdwn k-content" tabindex="-1">
            <p>
              <input
                type="radio"
                name="payFilter"
                id="payAll"
                value="0"
                checked=""
              />
              <label for="payAll"> <span></span>All </label>
            </p>
            <p>
              <input type="radio" name="payFilter" id="payCash" value="1" />
              <label for="payCash"> <span></span>Cash </label>
            </p>
            <p>
              <input type="radio" name="payFilter" id="payCheque" value="2" />
              <label for="payCheque"> <span></span>Cheque </label>
            </p>
            <p>
              <input type="radio" name="payFilter" id="payCard" value="3" />
              <label for="payCard"> <span></span>Card </label>
            </p>
          </div>
        </li>
        <li class="urgent">
          <a href="javascript:void(0);">Urgent Tests</a>
          <input type="checkbox" id="isUrgent" />
          <label style="color: red" for="isUrgent">
            <span></span>
          </label>
        </li>
      </ul>
    </div>

    <div>
      <div class="grdhdng">
        <H2 style="font-size: 2.1rem;font-weight: 600;color:#393838;">INVESTIGATION WORKLIST</H2>
        <input type="text" id="txtBarCode" placeholder="Barcode Search" />
        <input type="text" id="txtSearchWorkList" placeholder="Search" />
      </div>

      <div
        id="grid"
        oncontextmenu="return false;"
        data-role="grid"
        class="k-grid k-widget"
        style="height: 430px"
      >
        <div class="k-grid-header" style="padding-right: 0px">
          <div class="k-grid-header-wrap" data-role="resizable">
          
          </div>
        </div>
        <div class="k-grid-content scroll-pane" style="height: 418.8px">
       
          <table
            role="treegrid"
            tabindex="0"
            data-role="selectable"
            class="k-selectable"
            style="height: auto;padding: 15px;"
          >
            <colgroup>
              <col style="width: 90px" />
              <col style="width: 160px" />
              <col style="width: 150px" />
              <col style="width: 155px" />
              <col style="width: 160px" />
              <col style="width: 150px" />
            </colgroup>
            <thead style="padding: 15px;">
              <tr>
                <th>Serial No.</th>
                <th>PID</th>
                <th>Patient Name</th>
                <th>Advised Date</th>
                <!-- <th>Selected Tests</th> -->
                <th>Advised By Doctor</th>
                <th>Advised By Facility</th>
                <th>Ref</th>
                <th>Total</th>
                <th>Dis</th>
                <th>Tax</th>
                <th>Net</th>
                <th>Bal</th>  
              </tr>
            </thead>
            <tbody id="patientsTableBody">
              <!-- Patient rows will be dynamically inserted here -->
            </tbody>
          </table>
        </div>

        <div class="k-grid-footer" tabindex="-1" style="padding-right: 0px">
          <div class="k-grid-footer-wrap">
            <table>
              <colgroup>
                <col class="k-hierarchy-col" />
                <col style="width: 80px" />
                <col style="width: 80px" />
                <col style="width: 115px" />
                <col style="width: 110px" />
                <col style="width: 35px" />
                <col style="width: 60px" />
                <col style="width: 60px" />
                <col style="width: 60px" />
                <col style="width: 60px" />
                <col style="width: 60px" />
                <col style="width: 60px" />
                <col style="width: 60px" />
              </colgroup>
              <tbody>
                <tr class="k-footer-template">
                  <td class="k-hierarchy-cell">&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>0.00</td>
                  <td>5630.00</td>
                  <td>0.00</td>
                  <td>5630.00</td>
                  <td>0.00</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
       
      </div>
    </div>

<!-- Modal Structure -->
<div id="divHoverGridResult" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Result Value</h3>
      <button class="close-btn" onclick="document.getElementById('divHoverGridResult').style.display='none';">Close</button>
    </div>
    <div class="modal-body">
      <div class="patient-details">
        <h4 style="font-size: 0.9rem;">
          <p><strong>Report Number:</strong> <span id="hoverResultSrNo"></span></p>
          <p><strong>Test Name:</strong> <span id="hoverTestName"></span></p>
          <p><strong>Patient Name:</strong> <span id="hoverPatientName"></span></p>
          <p><strong>Advised Date:</strong> <span id="hoverAdvisedDate"></span></p>
          <p><strong>Gender:</strong> <span id="hovergender"></span></p>
          <p><strong>Age:</strong> <span id="hoverage"></span></p>
        </h4>
      </div>

      <!-- Added Range Description Section -->

      <!-- Range details will be inserted here -->
      </div>

  

      <div id="grdResult" class="grid">
        <!-- Grid Header -->
        <div class="grid-header" style="padding-left: 10px;">
          <table>
            <thead>
              <tr>
                <th>Description</th>
                <th>Unit</th>
                <th>Type</th>
                <th>Range</th>
                <th>Result Value</th>
                <th>Remarks</th>

              </tr>
            </thead>
          </table>
          <div id="rangeDescription" class="range-description" style="display: flex">
        </div>

        <!-- Grid Content -->
        <div class="grid-body">
          <table>
            <tbody>
              <!-- Example Row 1 -->
            </tbody>
          </table>
        </div>
      </div>

    


      <div class="modal-footer">
        <button id="btnCalculate">Calculate Formula</button>
        <button id="btnEditAll">Modify</button>
        <button id="hoverResultConfirmAllSample" style="display: none;">Confirm All Samples</button>
        <button id="btnSaveIncompleteResult">Save</button>
        <button id="btnSaveResult">Save & Complete</button>
        <button id="btnPreviousResults">Previous</button>
        <button id="btnCloseResultWithoutSaving">Close</button>
        
      </div>
    </div>
  </div>
</div>


<style>
  .modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

.modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%; /* Could be more or less, depending on screen size */
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

</style>
<style>
  /* Modal Background */
.modal {
  display: none; 
  position: fixed; 
  z-index: 1000; 
  left: 0;
  top: 0;
  width: 100%; 
  height: 100%; 
  overflow: auto; 
  background-color: rgba(0,0,0,0.4); /* Black background with opacity */
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  margin: 5% auto; 
  padding: 20px; 
  border: 1px solid #888;
  width: 80%;
  max-width: 1200px;
}

/* Modal Header */
.modal-header {
  padding: 10px 15px;
  background: #f1f1f1;
  border-bottom: 1px solid #ddd;
  position: relative;
}

.modal-header h3 {
  margin: 0;
}

.close-btn {
  position: absolute;
  top: 10px;
  right: 15px;
  background: #f44336;
  color: white;
  border: none;
  padding: 10px;
  cursor: pointer;
}

/* Modal Body */
.modal-body {
  padding: 20px;
}

.patient-details {
  margin-bottom: 20px;
}

.detail-item {
  margin-bottom: 10px;
}

.warning {
  color: red;
}

.action-buttons button {
  margin-right: 10px;
}

/* Grid */
.grid {
  margin-top: 20px;
  border-collapse: collapse;
  width: 100%;
}

.grid-header {
  background-color: #f4f4f4;
}

.grid-header table {
  width: 100%;
}

.grid-body table {
  width: 100%;
}

.grid-body td, .grid-body th {
  border: 1px solid #ddd;
  padding: 8px;
}

.result-value {
  display: flex;
  align-items: center;
}

.result-value .edit-btn {
  margin-left: 10px;
}

.edit-section {
  display: none;
}

/* Modal Footer */
.modal-footer {
  padding: 10px 15px;
  border-top: 1px solid #ddd;
  text-align: right;
}

.file-upload {
  margin-top: 20px;
}


</style>

<script>
  function openModal() {
  document.getElementById('divHoverGridResult').style.display = 'block';
}

</script>


    <script src="./nav.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="worklist.js"></script>
  </body>
</html>
